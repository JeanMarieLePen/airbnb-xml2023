{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport dataService from '../services/dataService';\nimport { VueperSlides, VueperSlide } from 'vueperslides';\nimport 'vueperslides/dist/vueperslides.css';\nimport parserMixin from '@/mixins/mixin';\nimport axios from 'axios';\nexport default {\n  components: {\n    vueperslides: VueperSlides,\n    vueperslide: VueperSlide\n  },\n  data() {\n    return {\n      profile: {\n        kategorija: {}\n      },\n      btnEnabled: false,\n      userId: '',\n      username: '',\n      //Ostaviti proil objekat zbog mapiranja\n      role: '',\n      ownerId: '',\n      userObj: {}\n    };\n  },\n  created() {\n    parserMixin.methods.checkLoginStatus();\n    this.userObj = parserMixin.methods.parseXmlJwt();\n    console.log(\"ID KORISNIKA: \" + this.userObj.id);\n    this.getUserProfileData(this.userObj.id);\n  },\n  methods: {\n    getUserProfileData(id) {\n      try {\n        // const response = axios.get('http://localhost:8082/korisnik/1');\n        // console.log(\"STIGAO ODGOVOR\");\n        dataService.getUser(id).then(response => {\n          console.log(\"USER PROFILE: \" + JSON.stringify(response.data));\n          this.profile = response.data;\n          if (response.data.slike != null) {\n            console.log(\"BROJ SLIKA: \" + this.profile.slike.length);\n            let tempSlike = [];\n            for (let i = 0; i < this.profile.slike.length; i++) {\n              console.log(\"AAA\");\n              tempSlike.push('data:image/png;base64,' + this.profile.slike[i]);\n            }\n            this.profile.slike = tempSlike;\n            console.log(\"SLIKA POSLE FORMATIRANJA: \" + JSON.stringify(this.profile.slike[0]));\n          }\n        });\n      } catch (error) {\n        console.log(\"GRESKA: \" + error.message);\n      }\n    },\n    updateUser(id) {\n      this.$router.push(`/edit`);\n    },\n    deleteUser(id) {\n      this.$router.push(`/deleteAccount/${id}`);\n      //   DataService.deleteUserProfile(id).then(response => {\n      //         this.profile = response.data;\n      //     })\n    }\n  }\n};","map":{"version":3,"mappings":";AAqFA,OAAOA,WAAU,MAAO,yBAAwB;AAChD,SAASC,YAAY,EAAEC,WAAU,QAAS,cAAa;AACvD,OAAO,oCAAmC;AAC1C,OAAOC,WAAU,MAAO,gBAAe;AACvC,OAAOC,KAAI,MAAO,OAAM;AACpB,eAAc;EACVC,UAAU,EAAC;IACPC,YAAW,EAAIL,YAAY;IAC3BM,WAAU,EAAGL;EACjB,CAAC;EACDM,IAAI,GAAE;IACF,OAAM;MACFC,OAAO,EAAC;QACJC,UAAU,EAAC,CAAC;MAChB,CAAC;MACDC,UAAU,EAAC,KAAK;MAChBC,MAAK,EAAI,EAAE;MACXC,QAAO,EAAI,EAAE;MACb;MACAC,IAAI,EAAC,EAAE;MACPC,OAAO,EAAC,EAAE;MAEVC,OAAO,EAAC,CAER;IACJ;EACJ,CAAC;EACDC,OAAO,GAAE;IACLd,WAAW,CAACe,OAAO,CAACC,gBAAgB,EAAE;IACtC,IAAI,CAACH,OAAM,GAAIb,WAAW,CAACe,OAAO,CAACE,WAAW,EAAE;IAChDC,OAAO,CAACC,GAAG,CAAC,gBAAe,GAAI,IAAI,CAACN,OAAO,CAACO,EAAE,CAAC;IAC/C,IAAI,CAACC,kBAAkB,CAAC,IAAI,CAACR,OAAO,CAACO,EAAE,CAAC;EAC5C,CAAC;EACDL,OAAO,EAAC;IACJM,kBAAkB,CAACD,EAAE,EAAC;MAClB,IAAG;QACK;QACA;QACJvB,WAAW,CAACyB,OAAO,CAACF,EAAE,CAAC,CAACG,IAAI,CAACC,QAAO,IAAK;UACrCN,OAAO,CAACC,GAAG,CAAC,gBAAe,GAAIM,IAAI,CAACC,SAAS,CAACF,QAAQ,CAACnB,IAAI,CAAC,CAAC;UAC7D,IAAI,CAACC,OAAM,GAAIkB,QAAQ,CAACnB,IAAI;UAC5B,IAAGmB,QAAQ,CAACnB,IAAI,CAACsB,KAAI,IAAK,IAAI,EAAC;YAC3BT,OAAO,CAACC,GAAG,CAAC,cAAa,GAAI,IAAI,CAACb,OAAO,CAACqB,KAAK,CAACC,MAAM,CAAC;YACvD,IAAIC,SAAQ,GAAI,EAAE;YAClB,KAAI,IAAIC,IAAI,CAAC,EAAEA,IAAI,IAAI,CAACxB,OAAO,CAACqB,KAAK,CAACC,MAAM,EAAEE,CAAC,EAAE,EAAC;cAC9CZ,OAAO,CAACC,GAAG,CAAC,KAAK;cACjBU,SAAS,CAACE,IAAI,CAAC,wBAAuB,GAAI,IAAI,CAACzB,OAAO,CAACqB,KAAK,CAACG,CAAC,CAAC,CAAC;YACpE;YACA,IAAI,CAACxB,OAAO,CAACqB,KAAI,GAAIE,SAAS;YAC9BX,OAAO,CAACC,GAAG,CAAC,4BAA2B,GAAIM,IAAI,CAACC,SAAS,CAAC,IAAI,CAACpB,OAAO,CAACqB,KAAK,CAAC,CAAC,CAAC,CAAC;UACpF;QACJ,CAAC,CAAC;MACN,CAAC,QAAMK,KAAK,EAAC;QACTd,OAAO,CAACC,GAAG,CAAC,UAAS,GAAIa,KAAK,CAACC,OAAO,CAAC;MAC3C;IAEJ,CAAC;IACDC,UAAU,CAACd,EAAE,EAAC;MACV,IAAI,CAACe,OAAO,CAACJ,IAAI,CAAE,OAAM,CAAC;IAC9B,CAAC;IACDK,UAAU,CAAChB,EAAE,EAAC;MACV,IAAI,CAACe,OAAO,CAACJ,IAAI,CAAE,kBAAiBX,EAAG,EAAC;MAC5C;MACC;MACD;IACA;EACJ;AAEJ","names":["dataService","VueperSlides","VueperSlide","parserMixin","axios","components","vueperslides","vueperslide","data","profile","kategorija","btnEnabled","userId","username","role","ownerId","userObj","created","methods","checkLoginStatus","parseXmlJwt","console","log","id","getUserProfileData","getUser","then","response","JSON","stringify","slike","length","tempSlike","i","push","error","message","updateUser","$router","deleteUser"],"sourceRoot":"","sources":["C:\\Users\\SNSBOT\\Desktop\\XML-2023[PROJEKAT]\\APP2-front\\planetickets\\src\\overviews\\ProfileView.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"container\" id='page-title'>\r\n            <h1 style=\"margin-top:10px;color:#35424a;\"><span id='titleEffect'>Pregled naloga</span></h1>\r\n            <hr style='background:#35424a;height:1px'>\r\n        </div>\r\n        <div  class=\"container\">\r\n            <form>\r\n                <ul id=\"services\" class=\"list-group\">\r\n                <!-- Osoba -->\r\n                    <li class=\"list-group-item\" >\r\n                        <h5 class=\"header5\">Tip korisnika</h5>\r\n                        <h4>{{profile.tip}}</h4>\r\n                    </li>\r\n                    <li class=\"list-group-item\" >\r\n                        <h5 class=\"header5\">Korisnicko ime</h5>\r\n                        <h4>{{profile.username}}</h4>\r\n                    </li>\r\n                    <li class=\"list-group-item\">\r\n                        <h5 class=\"header5\">Email adresa</h5>\r\n                        <h4>{{profile.email}}</h4>\r\n                    </li>\r\n                    <li class=\"list-group-item\" >\r\n                        <h5 class=\"header5\">Ime</h5>\r\n                        <h4>{{profile.ime}}</h4>\r\n                    </li>\r\n                    <li class=\"list-group-item\" >\r\n                        <h5 class=\"header5\">Prezime</h5>\r\n                        <h4>{{profile.prezime}}</h4>\r\n                    </li>\r\n                    <li class=\"list-group-item\" >\r\n                        <h5 class=\"header5\">Adresa</h5>\r\n                        <h4>{{profile.adresa.adresa}}</h4>\r\n                    </li>\r\n                    <!-- <li class=\"list-group-item\" >\r\n                        <h5 class=\"header5\">Datum Rodjenja</h5>\r\n                        <h4>{{profile.datumRodjenja}}</h4>\r\n                    </li> -->\r\n                    <!-- <li class=\"list-group-item\" >\r\n                        <h5 class=\"header5\">Poslednja Donacija</h5>\r\n                        <h4>{{profile.poslednjaDonacija}}</h4>\r\n                    </li>\r\n\r\n\r\n                    <li class=\"list-group-item\" >\r\n                        <h5 class=\"header5\">Penali</h5>\r\n                        <h4>{{profile.penali}}</h4>\r\n                    </li>\r\n                    <li class=\"list-group-item\" >\r\n                        <h5 class=\"header5\">Loyalty poeni</h5>\r\n                        <h4>{{profile.poeni}}</h4>\r\n                    </li>\r\n                    <li class=\"list-group-item\" >\r\n                        <h5 class=\"header5\">Loyalty kategorija</h5>\r\n                       <h4>{{profile.kategorija.naziv}}</h4>\r\n                    </li> -->\r\n                    <li class=\"list-group-item\">\r\n                        <h5 class=\"header5\">Slike</h5>\r\n                        <div>\r\n                            <vueperslides  fade fixed-height=\"600px\">\r\n                                <vueperslide v-for=\"(slide, i) in profile.slike\" :key=\"i\">\r\n                                    <template v-slot:content>\r\n                                        <img style=\"width:100%; height:600px;\" :src=\"slide\">\r\n                                    </template>\r\n                                </vueperslide>\r\n                            </vueperslides>\r\n                        </div>\r\n                    </li>\r\n                    \r\n                </ul>\r\n\r\n                <div  id='buttonUpdate' style=\"margin-bottom:100px; display:flex\">\r\n                    <button :disabled='btnEnabled' type='button' class=\"btn btn-lg btn-success marg float-left\" v-on:click='updateUser(userObj.id)'> Update</button> \r\n                    <button style=\"margin-left:auto\" type='button' class=\"btn btn-lg btn-danger marg float-right\" v-on:click='deleteUser(userObj.id)'> Delete</button> \r\n                </div>\r\n                \r\n            </form>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport dataService from '../services/dataService'\r\nimport { VueperSlides, VueperSlide } from 'vueperslides'\r\nimport 'vueperslides/dist/vueperslides.css'\r\nimport parserMixin from '@/mixins/mixin'\r\nimport axios from 'axios'\r\n    export default{\r\n        components:{\r\n            vueperslides : VueperSlides,\r\n            vueperslide :VueperSlide\r\n        },\r\n        data(){\r\n            return{\r\n                profile:{\r\n                    kategorija:{},\r\n                },\r\n                btnEnabled:false,\r\n                userId : '',\r\n                username : '',\r\n                //Ostaviti proil objekat zbog mapiranja\r\n                role:'',\r\n                ownerId:'',\r\n\r\n                userObj:{\r\n\r\n                }\r\n            }\r\n        },\r\n        created(){ \r\n            parserMixin.methods.checkLoginStatus();\r\n            this.userObj = parserMixin.methods.parseXmlJwt();\r\n            console.log(\"ID KORISNIKA: \" + this.userObj.id);\r\n            this.getUserProfileData(this.userObj.id);\r\n        },\r\n        methods:{\r\n            getUserProfileData(id){\r\n                try{\r\n                        // const response = axios.get('http://localhost:8082/korisnik/1');\r\n                        // console.log(\"STIGAO ODGOVOR\");\r\n                    dataService.getUser(id).then(response => {\r\n                        console.log(\"USER PROFILE: \" + JSON.stringify(response.data));\r\n                        this.profile = response.data;\r\n                        if(response.data.slike != null){\r\n                            console.log(\"BROJ SLIKA: \" + this.profile.slike.length);\r\n                            let tempSlike = [];\r\n                            for(let i = 0; i < this.profile.slike.length; i++){\r\n                                console.log(\"AAA\")\r\n                                tempSlike.push('data:image/png;base64,' + this.profile.slike[i]);\r\n                            }\r\n                            this.profile.slike = tempSlike;\r\n                            console.log(\"SLIKA POSLE FORMATIRANJA: \" + JSON.stringify(this.profile.slike[0]))\r\n                        }\r\n                    });\r\n                }catch(error){\r\n                    console.log(\"GRESKA: \" + error.message);\r\n                }\r\n            \r\n            },\r\n            updateUser(id){ \r\n                this.$router.push(`/edit`);\r\n            },\r\n            deleteUser(id){ \r\n                this.$router.push(`/deleteAccount/${id}`)\r\n            //   DataService.deleteUserProfile(id).then(response => {\r\n             //         this.profile = response.data;\r\n            //     })\r\n            },\r\n        },\r\n        \r\n    }\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n#titleEffect{\r\n  color:#1E90FF;\r\n  font-weight: bold;\r\n}\r\n\r\n#user-profile ul#services li{\r\n    list-style: none;\r\n    padding:15px;\r\n    border-bottom: gray solid 1px;\r\n    border-radius: 15px;\r\n    margin-bottom: 3px; \r\n    background-color:#fff;\r\n    width:100%;\r\n}\r\n\r\n/* #user-profile#buttonUpdate{\r\n  float:left;\r\n} */\r\n\r\n\r\n.header5{\r\n    color:#1E90FF;\r\n    font-weight: bold;\r\n}\r\n\r\n.marg{\r\n    margin-top:15px;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}