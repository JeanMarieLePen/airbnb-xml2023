{"ast":null,"code":"import dataService from '../services/dataService';\nimport parserMixin from '@/mixins/mixin';\nimport StarRating from 'vue-star-rating';\nexport default {\n  components: {\n    StarRating\n  },\n  data() {\n    return {\n      // comments:[],\n      comments: [{\n        id: 1,\n        tekst: 'Odlicno, bravo.',\n        ocena: 4,\n        datumIVreme: '2022-04-15',\n        autor: \"Branimir\",\n        rejting: 66\n      }, {\n        id: 2,\n        tekst: 'Vrlo lose.',\n        ocena: 1,\n        datumIVreme: '2012-01-5',\n        autor: \"Tanja\",\n        rejting: -24\n      }, {\n        id: 3,\n        tekst: 'Preporuke.',\n        ocena: 4,\n        datumIVreme: '2021-12-10',\n        autor: \"Milica\",\n        rejting: 56\n      }],\n      userObj: {},\n      idEntity: -1,\n      comment: {\n        tekst: '',\n        ocena: ''\n      }\n    };\n  },\n  methods: {\n    async getComments() {\n      dataService.getEntityComments(this.idEntity).then(response => {\n        console.log(\"Dobavljeni komentari\");\n        this.comments = response.data;\n      });\n    },\n    setRating(rating) {\n      console.log(\"DATA OCENA: \" + rating);\n      this.comment.ocena = rating;\n    },\n    dislike() {\n      dataService.dislikeComment().then(response => {});\n    },\n    like() {\n      dataService.likeComment().then(response => {});\n    }\n  },\n  created() {\n    // parserMixin.methods.checkLoginStatus();\n    // this.userObj = parserMixin.methods.parseXmlJwt();\n    // console.log(\"ID KORISNIKA: \" + this.userObj.id)\n    // this.idEntiteta = this.$route.params.id;\n  },\n  mounted() {}\n};","map":{"version":3,"names":["dataService","parserMixin","StarRating","components","data","comments","id","tekst","ocena","datumIVreme","autor","rejting","userObj","idEntity","comment","methods","getComments","getEntityComments","then","response","console","log","setRating","rating","dislike","dislikeComment","like","likeComment","created","mounted"],"sources":["C:\\Users\\SNSBOT\\Desktop\\XML-2023[PROJEKAT]\\APP1-front\\template-project\\front-mainapp\\src\\components\\CommentSection.vue"],"sourcesContent":["<template>\r\n    <div style=\"margin-left:20px; margin-bottom:25px;\">\r\n        <div>\r\n            <h2>Komentari</h2>\r\n        </div>\r\n        <div id=\"new-comment-form\">\r\n            <table>\r\n                <thead>\r\n                    <th colspan=\"2\">\r\n                        Dodajte Vas komentar\r\n                    </th>\r\n                </thead>\r\n                <tr>\r\n                    <td colspan=\"2\">\r\n                        <textarea style=\"width:100%;\" placeholder=\"Upisite tekst komentara(max 500 karaktera)...\" v-model=\"comment.tekst\">\r\n                        </textarea>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td>\r\n                        <star-rating @update:rating=\"setRating\" style=\"width:300px; font-size:30px;\"></star-rating>\r\n                    </td>\r\n                    <td>\r\n                        <button class=\"btn btn-warning\">Kreiraj</button>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n            \r\n            \r\n        </div>\r\n        <div id=\"comment-section\">\r\n            <div>\r\n                <div  v-for=\"(tempComment, index) in comments\" v-bind:key=\"index\" class=\"comments-box\">\r\n                <div>\r\n                    <p class=\"author\">\r\n                    {{tempComment.autor}} \r\n                    <star-rating :star-size=\"20\" read-only style=\"margin-left:10px;display:inline-block\"  v-model:rating=\"tempComment.ocena\"></star-rating>\r\n                    </p>\r\n                </div>\r\n            \r\n                <p v-html=\"tempComment.tekst\" class=\"content-comment\"></p>\r\n                <!-- <p v-show=\"isAdmin\" @click=\"removeComment(index)\" class=\"delete\">Delete</p> -->\r\n                <p style=\"font-weight:200; font-style:italic\">Kreiran: {{tempComment.datumIVreme}}</p>\r\n                <p style=\"font-weight:500; font-style:italic\">Rejting: {{tempComment.rejting}}</p>\r\n                <div id=\"like-section\">\r\n                    <button @click=\"like()\">\r\n                        <div>\r\n                            <img src=\"../assets/like.png\" style=\"max-width:100%; max-height:100%;\" />\r\n                        </div>\r\n                    </button>\r\n                    <button @click=\"dislike()\">\r\n                        <div>\r\n                            <img src=\"../assets/dislike.png\" style=\"max-width:100%; max-height:100%;\" />\r\n                        </div>\r\n                    </button>\r\n                </div>\r\n                </div>\r\n                <div style=\"margin-left: 200px;margin-top:100px\" v-show=\"comments.length == 0 \">\r\n                    <h1>Trenutno nema komentara</h1>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport dataService from '../services/dataService'\r\nimport parserMixin from '@/mixins/mixin'\r\nimport StarRating from 'vue-star-rating'\r\nexport default {\r\n    components:{\r\n        StarRating,\r\n    },\r\n    data(){\r\n        return{\r\n            // comments:[],\r\n            comments:[\r\n                {\r\n                    id:1,\r\n                    tekst:'Odlicno, bravo.',\r\n                    ocena: 4,\r\n                    datumIVreme: '2022-04-15',\r\n                    autor:\"Branimir\",\r\n                    rejting:66\r\n                },\r\n                {\r\n                    id:2,\r\n                    tekst:'Vrlo lose.',\r\n                    ocena: 1,\r\n                    datumIVreme: '2012-01-5',\r\n                    autor:\"Tanja\",\r\n                    rejting:-24\r\n                },\r\n                {\r\n                    id:3,\r\n                    tekst:'Preporuke.',\r\n                    ocena: 4,\r\n                    datumIVreme: '2021-12-10',\r\n                    autor:\"Milica\",\r\n                    rejting:56\r\n                }\r\n            ],\r\n            userObj:{\r\n\r\n            },\r\n            idEntity:-1,\r\n            comment:{\r\n                tekst:'',\r\n                ocena:'',\r\n            }\r\n        }\r\n    },\r\n    methods:{\r\n        async getComments(){\r\n            dataService.getEntityComments(this.idEntity).then(response => {\r\n                console.log(\"Dobavljeni komentari\");\r\n                this.comments = response.data;\r\n            });\r\n        },\r\n        setRating(rating){\r\n            console.log(\"DATA OCENA: \" + rating);\r\n            this.comment.ocena = rating;\r\n        },\r\n        dislike(){\r\n            dataService.dislikeComment().then(response => {\r\n\r\n            });\r\n        },\r\n        like(){\r\n             dataService.likeComment().then(response => {\r\n\r\n            });\r\n        }\r\n    },\r\n    created(){\r\n        // parserMixin.methods.checkLoginStatus();\r\n        // this.userObj = parserMixin.methods.parseXmlJwt();\r\n        // console.log(\"ID KORISNIKA: \" + this.userObj.id)\r\n        // this.idEntiteta = this.$route.params.id;\r\n\r\n    },\r\n    mounted(){\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\r\n#new-comment-form{\r\n    width:1000px;\r\n    height: 30vh;\r\n}\r\n#new-comment-form>table{\r\n    width:60vh;\r\n    height:250px;\r\n}\r\n#new-comment-form textarea{\r\n    height:150px;\r\n    resize: none;\r\n}\r\n#new-comment-form button{\r\n    /* height:30px; */\r\n    font-size: 25px;\r\n    resize: none;\r\n}\r\n#comment-section{\r\n    margin-bottom:100px;\r\n    width:60%;\r\n}\r\n.comments-box{\r\n    width: 90%;\r\n    padding: 20px 0;\r\n    border-bottom: 1px solid #000;\r\n}\r\n.author{\r\n    margin: 10px 0;\r\n    font-weight: bold;\r\n}\r\n#like-section button{\r\n    height:50px;\r\n    width: 50px;\r\n    text-align: center;\r\n    background: white;\r\n}\r\n</style>"],"mappings":"AAmEA,OAAOA,WAAU,MAAO,yBAAwB;AAChD,OAAOC,WAAU,MAAO,gBAAe;AACvC,OAAOC,UAAS,MAAO,iBAAgB;AACvC,eAAe;EACXC,UAAU,EAAC;IACPD;EACJ,CAAC;EACDE,IAAIA,CAAA,EAAE;IACF,OAAM;MACF;MACAC,QAAQ,EAAC,CACL;QACIC,EAAE,EAAC,CAAC;QACJC,KAAK,EAAC,iBAAiB;QACvBC,KAAK,EAAE,CAAC;QACRC,WAAW,EAAE,YAAY;QACzBC,KAAK,EAAC,UAAU;QAChBC,OAAO,EAAC;MACZ,CAAC,EACD;QACIL,EAAE,EAAC,CAAC;QACJC,KAAK,EAAC,YAAY;QAClBC,KAAK,EAAE,CAAC;QACRC,WAAW,EAAE,WAAW;QACxBC,KAAK,EAAC,OAAO;QACbC,OAAO,EAAC,CAAC;MACb,CAAC,EACD;QACIL,EAAE,EAAC,CAAC;QACJC,KAAK,EAAC,YAAY;QAClBC,KAAK,EAAE,CAAC;QACRC,WAAW,EAAE,YAAY;QACzBC,KAAK,EAAC,QAAQ;QACdC,OAAO,EAAC;MACZ,EACH;MACDC,OAAO,EAAC,CAER,CAAC;MACDC,QAAQ,EAAC,CAAC,CAAC;MACXC,OAAO,EAAC;QACJP,KAAK,EAAC,EAAE;QACRC,KAAK,EAAC;MACV;IACJ;EACJ,CAAC;EACDO,OAAO,EAAC;IACJ,MAAMC,WAAWA,CAAA,EAAE;MACfhB,WAAW,CAACiB,iBAAiB,CAAC,IAAI,CAACJ,QAAQ,CAAC,CAACK,IAAI,CAACC,QAAO,IAAK;QAC1DC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;QACnC,IAAI,CAAChB,QAAO,GAAIc,QAAQ,CAACf,IAAI;MACjC,CAAC,CAAC;IACN,CAAC;IACDkB,SAASA,CAACC,MAAM,EAAC;MACbH,OAAO,CAACC,GAAG,CAAC,cAAa,GAAIE,MAAM,CAAC;MACpC,IAAI,CAACT,OAAO,CAACN,KAAI,GAAIe,MAAM;IAC/B,CAAC;IACDC,OAAOA,CAAA,EAAE;MACLxB,WAAW,CAACyB,cAAc,EAAE,CAACP,IAAI,CAACC,QAAO,IAAK,CAE9C,CAAC,CAAC;IACN,CAAC;IACDO,IAAIA,CAAA,EAAE;MACD1B,WAAW,CAAC2B,WAAW,EAAE,CAACT,IAAI,CAACC,QAAO,IAAK,CAE5C,CAAC,CAAC;IACN;EACJ,CAAC;EACDS,OAAOA,CAAA,EAAE;IACL;IACA;IACA;IACA;EAAA,CAEH;EACDC,OAAOA,CAAA,EAAE,CAET;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}