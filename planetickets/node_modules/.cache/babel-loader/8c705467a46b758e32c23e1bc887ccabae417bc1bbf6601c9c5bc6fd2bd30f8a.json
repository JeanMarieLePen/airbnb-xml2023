{"ast":null,"code":"import _classCallCheck from \"C:/Users/SNSBOT/Desktop/XML-2023-projekat2/frontend/template-project/planetickets/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/SNSBOT/Desktop/XML-2023-projekat2/frontend/template-project/planetickets/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport axios from \"axios\";\nvar API_URL = \"http://localhost:7777\";\n(function () {\n  var xmljwt = localStorage.getItem('xmljwt');\n  axios.defaults.headers.common['Access-Control-Allow-Headers'] = 'Authorization';\n  if (xmljwt) {\n    console.log(\"POZVANA SELF-EXECUTING METODA: TOKEN SMESTEN U AUTHORIZATION HEADER\");\n    axios.defaults.headers.common['Authorization'] = 'Bearer ' + xmljwt.slice(1, xmljwt.length - 1);\n    console.log(\"ZAGLAVLJE: \" + axios.defaults.headers.common['Authorization']);\n  } else {\n    console.log(\"AXIOS ERROR\");\n    axios.defaults.headers.common['Authorization'] = null;\n  }\n})();\naxios.interceptors.request.use(function (request) {\n  console.log('Starting Request', JSON.stringify(request, null, 2));\n  return request;\n});\naxios.interceptors.response.use(function (response) {\n  console.log('Response:', JSON.stringify(response, null, 2));\n  return response;\n});\nvar DataService = /*#__PURE__*/function () {\n  function DataService() {\n    _classCallCheck(this, DataService);\n  }\n  _createClass(DataService, [{\n    key: \"login\",\n    value: function login(loginForm) {\n      return axios.post(\"\".concat(API_URL, \"/login2/authenticate\"), loginForm);\n    }\n  }, {\n    key: \"register\",\n    value: function register(form) {\n      return axios.post(\"\".concat(API_URL, \"/login2/register\"), form);\n    }\n  }, {\n    key: \"getUser\",\n    value: function getUser(id) {\n      return axios.get(\"\".concat(API_URL, \"/regkor/\").concat(id));\n    }\n  }, {\n    key: \"updateUserProfile\",\n    value: function updateUserProfile(profile) {\n      return axios.put(\"\".concat(API_URL, \"/regkor/update\"), profile);\n    }\n  }, {\n    key: \"createNewFlight\",\n    value: function createNewFlight(flight) {\n      return axios.post(\"\".concat(API_URL, \"/let/addNew\"), flight);\n    }\n  }]);\n  return DataService;\n}();\nexport default new DataService();","map":{"version":3,"names":["axios","API_URL","xmljwt","localStorage","getItem","defaults","headers","common","console","log","slice","length","interceptors","request","use","JSON","stringify","response","DataService","loginForm","post","form","id","get","profile","put","flight"],"sources":["C:/Users/SNSBOT/Desktop/XML-2023-projekat2/frontend/template-project/planetickets/src/services/dataService.js"],"sourcesContent":["import axios from \"axios\"\r\n\r\nconst API_URL = \"http://localhost:7777\";\r\n\r\n(function() {\r\n    let xmljwt = localStorage.getItem('xmljwt');\r\n    axios.defaults.headers.common['Access-Control-Allow-Headers'] = 'Authorization';\r\n    if(xmljwt){\r\n        console.log(\"POZVANA SELF-EXECUTING METODA: TOKEN SMESTEN U AUTHORIZATION HEADER\");\r\n        axios.defaults.headers.common['Authorization'] ='Bearer ' + xmljwt.slice(1, xmljwt.length-1);\r\n        console.log(\"ZAGLAVLJE: \" + axios.defaults.headers.common['Authorization']);\r\n    }else{\r\n        console.log(\"AXIOS ERROR\");\r\n        axios.defaults.headers.common['Authorization'] = null;\r\n    }\r\n})();\r\n\r\naxios.interceptors.request.use(request => {\r\n    console.log('Starting Request', JSON.stringify(request, null, 2))\r\n    return request\r\n  })\r\n\r\n  axios.interceptors.response.use(response => {\r\n    console.log('Response:', JSON.stringify(response, null, 2))\r\n    return response\r\n  })\r\n\r\n\r\n  class DataService{\r\n    login(loginForm){\r\n        return axios.post(`${API_URL}/login2/authenticate`, loginForm);\r\n    }\r\n    register(form){\r\n        return axios.post(`${API_URL}/login2/register`, form);\r\n    }\r\n    getUser(id){\r\n        return axios.get(`${API_URL}/regkor/${id}`);\r\n    }\r\n    updateUserProfile(profile){\r\n        return axios.put(`${API_URL}/regkor/update`, profile);\r\n    }\r\n    createNewFlight(flight){\r\n        return axios.post(`${API_URL}/let/addNew`, flight);\r\n    }\r\n}\r\n\r\n\r\nexport default new DataService();"],"mappings":";;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,IAAMC,OAAO,GAAG,uBAAuB;AAEvC,CAAC,YAAW;EACR,IAAIC,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;EAC3CJ,KAAK,CAACK,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,8BAA8B,CAAC,GAAG,eAAe;EAC/E,IAAGL,MAAM,EAAC;IACNM,OAAO,CAACC,GAAG,CAAC,qEAAqE,CAAC;IAClFT,KAAK,CAACK,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAE,SAAS,GAAGL,MAAM,CAACQ,KAAK,CAAC,CAAC,EAAER,MAAM,CAACS,MAAM,GAAC,CAAC,CAAC;IAC5FH,OAAO,CAACC,GAAG,CAAC,aAAa,GAAGT,KAAK,CAACK,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,CAAC;EAC/E,CAAC,MAAI;IACDC,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;IAC1BT,KAAK,CAACK,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAG,IAAI;EACzD;AACJ,CAAC,GAAG;AAEJP,KAAK,CAACY,YAAY,CAACC,OAAO,CAACC,GAAG,CAAC,UAAAD,OAAO,EAAI;EACtCL,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEM,IAAI,CAACC,SAAS,CAACH,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;EACjE,OAAOA,OAAO;AAChB,CAAC,CAAC;AAEFb,KAAK,CAACY,YAAY,CAACK,QAAQ,CAACH,GAAG,CAAC,UAAAG,QAAQ,EAAI;EAC1CT,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEM,IAAI,CAACC,SAAS,CAACC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;EAC3D,OAAOA,QAAQ;AACjB,CAAC,CAAC;AAAA,IAGIC,WAAW;EAAA;IAAA;EAAA;EAAA;IAAA;IAAA,OACf,eAAMC,SAAS,EAAC;MACZ,OAAOnB,KAAK,CAACoB,IAAI,WAAInB,OAAO,2BAAwBkB,SAAS,CAAC;IAClE;EAAC;IAAA;IAAA,OACD,kBAASE,IAAI,EAAC;MACV,OAAOrB,KAAK,CAACoB,IAAI,WAAInB,OAAO,uBAAoBoB,IAAI,CAAC;IACzD;EAAC;IAAA;IAAA,OACD,iBAAQC,EAAE,EAAC;MACP,OAAOtB,KAAK,CAACuB,GAAG,WAAItB,OAAO,qBAAWqB,EAAE,EAAG;IAC/C;EAAC;IAAA;IAAA,OACD,2BAAkBE,OAAO,EAAC;MACtB,OAAOxB,KAAK,CAACyB,GAAG,WAAIxB,OAAO,qBAAkBuB,OAAO,CAAC;IACzD;EAAC;IAAA;IAAA,OACD,yBAAgBE,MAAM,EAAC;MACnB,OAAO1B,KAAK,CAACoB,IAAI,WAAInB,OAAO,kBAAeyB,MAAM,CAAC;IACtD;EAAC;EAAA;AAAA;AAIL,eAAe,IAAIR,WAAW,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}