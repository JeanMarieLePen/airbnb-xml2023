{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"http://localhost:7777\";\n(function () {\n  let xmljwt = localStorage.getItem('xmljwt');\n  axios.defaults.headers.common['Access-Control-Allow-Headers'] = 'Authorization';\n  if (xmljwt) {\n    console.log(\"POZVANA SELF-EXECUTING METODA: TOKEN SMESTEN U AUTHORIZATION HEADER\");\n    axios.defaults.headers.common['Authorization'] = 'Bearer ' + xmljwt.slice(1, xmljwt.length - 1);\n    console.log(\"ZAGLAVLJE: \" + axios.defaults.headers.common['Authorization']);\n  } else {\n    console.log(\"AXIOS ERROR\");\n    axios.defaults.headers.common['Authorization'] = null;\n  }\n})();\naxios.interceptors.request.use(request => {\n  console.log('Starting Request', JSON.stringify(request, null, 2));\n  return request;\n});\naxios.interceptors.response.use(response => {\n  console.log('Response:', JSON.stringify(response, null, 2));\n  return response;\n});\nclass DataService {\n  login(loginForm) {\n    return axios.post(`${API_URL}/login2/authenticate`, loginForm);\n  }\n  register(form) {\n    return axios.post(`${API_URL}/login2/register`, form);\n  }\n  getUser(id) {\n    return axios.get(`${API_URL}/regkor/${id}`);\n  }\n  updateUserProfile(profile) {\n    return axios.put(`${API_URL}/regkor/update`, profile);\n  }\n}\nexport default new DataService();","map":{"version":3,"names":["axios","API_URL","xmljwt","localStorage","getItem","defaults","headers","common","console","log","slice","length","interceptors","request","use","JSON","stringify","response","DataService","login","loginForm","post","register","form","getUser","id","get","updateUserProfile","profile","put"],"sources":["C:/Users/SNSBOT/Desktop/XML-2023[PROJEKAT]/APP2-front/planetickets/src/services/dataService.js"],"sourcesContent":["import axios from \"axios\"\r\n\r\nconst API_URL = \"http://localhost:7777\";\r\n\r\n(function() {\r\n    let xmljwt = localStorage.getItem('xmljwt');\r\n    axios.defaults.headers.common['Access-Control-Allow-Headers'] = 'Authorization';\r\n    if(xmljwt){\r\n        console.log(\"POZVANA SELF-EXECUTING METODA: TOKEN SMESTEN U AUTHORIZATION HEADER\");\r\n        axios.defaults.headers.common['Authorization'] ='Bearer ' + xmljwt.slice(1, xmljwt.length-1);\r\n        console.log(\"ZAGLAVLJE: \" + axios.defaults.headers.common['Authorization']);\r\n    }else{\r\n        console.log(\"AXIOS ERROR\");\r\n        axios.defaults.headers.common['Authorization'] = null;\r\n    }\r\n})();\r\n\r\naxios.interceptors.request.use(request => {\r\n    console.log('Starting Request', JSON.stringify(request, null, 2))\r\n    return request\r\n  })\r\n\r\n  axios.interceptors.response.use(response => {\r\n    console.log('Response:', JSON.stringify(response, null, 2))\r\n    return response\r\n  })\r\n\r\n\r\n  class DataService{\r\n    login(loginForm){\r\n        return axios.post(`${API_URL}/login2/authenticate`, loginForm);\r\n    }\r\n    register(form){\r\n        return axios.post(`${API_URL}/login2/register`, form);\r\n    }\r\n    getUser(id){\r\n        return axios.get(`${API_URL}/regkor/${id}`);\r\n    }\r\n    updateUserProfile(profile){\r\n        return axios.put(`${API_URL}/regkor/update`, profile);\r\n    }\r\n}\r\n\r\n\r\nexport default new DataService();"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,uBAAuB;AAEvC,CAAC,YAAW;EACR,IAAIC,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;EAC3CJ,KAAK,CAACK,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,8BAA8B,CAAC,GAAG,eAAe;EAC/E,IAAGL,MAAM,EAAC;IACNM,OAAO,CAACC,GAAG,CAAC,qEAAqE,CAAC;IAClFT,KAAK,CAACK,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAE,SAAS,GAAGL,MAAM,CAACQ,KAAK,CAAC,CAAC,EAAER,MAAM,CAACS,MAAM,GAAC,CAAC,CAAC;IAC5FH,OAAO,CAACC,GAAG,CAAC,aAAa,GAAGT,KAAK,CAACK,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,CAAC;EAC/E,CAAC,MAAI;IACDC,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;IAC1BT,KAAK,CAACK,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAG,IAAI;EACzD;AACJ,CAAC,GAAG;AAEJP,KAAK,CAACY,YAAY,CAACC,OAAO,CAACC,GAAG,CAACD,OAAO,IAAI;EACtCL,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEM,IAAI,CAACC,SAAS,CAACH,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;EACjE,OAAOA,OAAO;AAChB,CAAC,CAAC;AAEFb,KAAK,CAACY,YAAY,CAACK,QAAQ,CAACH,GAAG,CAACG,QAAQ,IAAI;EAC1CT,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEM,IAAI,CAACC,SAAS,CAACC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;EAC3D,OAAOA,QAAQ;AACjB,CAAC,CAAC;AAGF,MAAMC,WAAW;EACfC,KAAK,CAACC,SAAS,EAAC;IACZ,OAAOpB,KAAK,CAACqB,IAAI,CAAE,GAAEpB,OAAQ,sBAAqB,EAAEmB,SAAS,CAAC;EAClE;EACAE,QAAQ,CAACC,IAAI,EAAC;IACV,OAAOvB,KAAK,CAACqB,IAAI,CAAE,GAAEpB,OAAQ,kBAAiB,EAAEsB,IAAI,CAAC;EACzD;EACAC,OAAO,CAACC,EAAE,EAAC;IACP,OAAOzB,KAAK,CAAC0B,GAAG,CAAE,GAAEzB,OAAQ,WAAUwB,EAAG,EAAC,CAAC;EAC/C;EACAE,iBAAiB,CAACC,OAAO,EAAC;IACtB,OAAO5B,KAAK,CAAC6B,GAAG,CAAE,GAAE5B,OAAQ,gBAAe,EAAE2B,OAAO,CAAC;EACzD;AACJ;AAGA,eAAe,IAAIV,WAAW,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}