{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport dataService from '../services/dataService';\nimport VueDatePicker from '@vuepic/vue-datepicker';\nimport '@vuepic/vue-datepicker/dist/main.css';\nimport moment from 'moment';\nimport { VueperSlides, VueperSlide } from 'vueperslides';\nimport 'vueperslides/dist/vueperslides.css';\nimport parserMixin from '@/mixins/mixin';\nexport default {\n  components: {\n    dtpckr: VueDatePicker,\n    vueperslides: VueperSlides,\n    vueperslide: VueperSlide\n  },\n  data() {\n    return {\n      // private String password;\n      // private String username;\n      // private String email;\n\n      // private String ime;\n      // private String prezime;\n      // private String adresa;\n      // private LocalDate datumRodjenja;\n\n      // private TipKorisnika tipKorisnika;\n\n      submitted: false,\n      confirmPassword: '',\n      form: {\n        password: '',\n        username: '',\n        email: '',\n        ime: '',\n        prezime: '',\n        adresa: {\n          adresa: '',\n          lat: -1,\n          lng: -1\n        },\n        datumRodjenja: new Date(),\n        slike: []\n      },\n      slike: [],\n      messages: {\n        messageConfirmPassword: '',\n        successMessage: '',\n        errorType: '',\n        errorLastName: '',\n        errorFirstName: '',\n        errorEmail: '',\n        errorPassword: '',\n        errorUsername: '',\n        errorRepNewPass: '',\n        errorNoPassword: '',\n        errorAddress: '',\n        errorDatumRodjenja: '',\n        errorPasswordMismatch: ''\n      }\n    };\n  },\n  methods: {\n    ponistiIzbor() {\n      this.slike = [];\n      this.form.slike = [];\n    },\n    uploadImage(e) {\n      let images = [];\n      for (let i = 0; i < e.target.files.length; i++) {\n        images.push(e.target.files[i]);\n      }\n      for (let i = 0; i < images.length; i++) {\n        let reader = new FileReader();\n        reader.readAsDataURL(images[i]);\n        reader.onload = () => {\n          this.form.slike.push(reader.result);\n          this.slike.push(reader.result);\n        };\n      }\n    },\n    updateDatePicker(val1) {\n      console.log(\"VAL1: \" + val1);\n      let tempDatum = moment(val1).format('YYYY-MM-DD');\n      console.log(\"TEMP DATUM: \" + tempDatum);\n      this.form.datumRodjenja = tempDatum;\n    },\n    // setDatumRodjenja(){\n    //     let tempDatum = \n    // },\n    submit() {\n      if (this.form.ime === '') {\n        this.messages.errorFirstName = '<h2>Niste uneli ime korisnika!</h2>';\n        setTimeout(() => {\n          this.messages.errorFirstName = '';\n        }, 4000);\n      } else if (this.form.prezime === '') {\n        this.messages.errorLastName = '<h2>Niste uneli prezime korisnika!</h2>';\n        setTimeout(() => {\n          this.messages.errorLastName = '';\n        }, 4000);\n      } else if (this.form.email === '') {\n        this.messages.errorEmail = '<h2>Niste uneli email adresu korisnika!</h2>';\n        setTimeout(() => {\n          this.messages.errorEmail = '';\n        }, 4000);\n      } else if (this.form.username === '') {\n        this.messages.errorUsername = '<h2>Niste uneli korisnicko ime!</h2>';\n        setTimeout(() => {\n          this.messages.errorUsername = '';\n        }, 4000);\n      } else if (this.form.adresa.adresa === '') {\n        this.messages.errorAddress = '<h2>Niste uneli adresu korisnika!</h2>';\n        setTimeout(() => {\n          this.messages.errorAddress = '';\n        }, 4000);\n      } else if (this.form.password === '') {\n        this.messages.errorPassword = '<h2>Niste uneli lozinku korisnika!</h2>';\n        setTimeout(() => {\n          this.messages.errorPassword = '';\n        }, 4000);\n      } else if (this.confirmPassword === '') {\n        this.messages.errorRepNewPass = '<h2>Niste potvrdili lozinku korisnika!</h2>';\n        setTimeout(() => {\n          this.messages.errorRepNewPass = '';\n        }, 4000);\n      } else if (this.form.datumRodjenja == '') {\n        this.messages.errorDatumRodjenja = '<h2>Niste odabrali datum rodjenja!</h2>';\n        setTimeout(() => {\n          this.messages.errorDatumRodjenja = '';\n        }, 4000);\n      } else {\n        this.updateDatePicker(this.form.datumRodjenja);\n        console.log(\"Kreiran objekat: \" + JSON.stringify(this.form));\n        if (this.form.password != this.confirmPassword) {\n          this.messages.errorPasswordMismatch = \"<h2>Lozinke se ne podudaraju!</h2>\";\n          setTimeout(() => {\n            this.messages.errorPasswordMismatch = '';\n          }, 4000);\n        } else {\n          let lokacija = parserMixin.methods.getCoordsFromAdresa(this.form.adresa.adresa);\n          this.form.adresa.lat = lokacija.lat;\n          this.form.adresa.lng = lokacija.lng;\n          console.log(\"REGISTRUJE SE KORISNIK: \" + JSON.stringify(this.form));\n          dataService.register(this.form).then(response => {\n            if (response.status === 200) {\n              console.log(\"Uspesno registrovan korisnik\");\n              this.messages.successMessage = '<h2>Zahtev uspesan. Proverite mejl za potvrdu naloga.</h2>';\n              setTimeout(() => {\n                this.messages.successMessage = '';\n                this.$router.push(\"/\");\n              }, 4000);\n            }\n          });\n        }\n      }\n    }\n  },\n  created() {}\n};","map":{"version":3,"mappings":"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","names":["dataService","VueDatePicker","moment","VueperSlides","VueperSlide","parserMixin","components","dtpckr","vueperslides","vueperslide","data","submitted","confirmPassword","form","password","username","email","ime","prezime","adresa","lat","lng","datumRodjenja","Date","slike","messages","messageConfirmPassword","successMessage","errorType","errorLastName","errorFirstName","errorEmail","errorPassword","errorUsername","errorRepNewPass","errorNoPassword","errorAddress","errorDatumRodjenja","errorPasswordMismatch","methods","ponistiIzbor","uploadImage","e","images","i","target","files","length","push","reader","FileReader","readAsDataURL","onload","result","updateDatePicker","val1","console","log","tempDatum","format","submit","setTimeout","JSON","stringify","lokacija","getCoordsFromAdresa","register","then","response","status","$router","created"],"sourceRoot":"","sources":["C:\\Users\\SNSBOT\\Desktop\\XML-2023[PROJEKAT]\\APP2-front\\planetickets\\src\\forms\\RegistrationForm.vue"],"sourcesContent":["<template>\r\n    <div style=\"width:50%; margin: 0 auto;\"  class=\"registration_form\">\r\n        <div class=\"container\" >\r\n    \r\n            <div class=\"row\" style=\"width:100%\" >\r\n            <!-- <div class=\"col-lg-10 col-xl-9 mx-auto\"> -->\r\n                <div class=\"card card-signin flex-row my-5\" >\r\n                <div class=\"card-img-left d-none d-md-flex\">\r\n                    <!-- Background image for card set in CSS! -->\r\n                </div>\r\n                <div class=\"card-body\" style=\"width:100hv;\">\r\n                    <h1 class=\"card-title text-center\" style=\"color :#5cb85c;\">Register</h1>\r\n                    <hr>\r\n                    <br>\r\n                    <div id='message-box' class=\"alert alert-success\" v-if='messages.successMessage' v-html=\"messages.successMessage\"> </div>\r\n                    <div v-if='!this.submitted'>\r\n                    <form class=\"form-signin\">\r\n\r\n                        <div v-if='messages.errorFirstName' id='testError' class=\"alert alert-danger\" v-html=\"messages.errorFirstName\"></div>\r\n                        <div class=\"form-label-group\">\r\n                        <input v-model=\"form.ime\" type=\"text\" id=\"inputName\" class=\"form-control\" placeholder=\"Insert name\" required autofocus>\r\n                        <label for=\"inputName\">Ime</label>\r\n                        </div>\r\n\r\n                                <div v-if='messages.errorLastName' class=\"alert alert-danger\" v-html=\"messages.errorLastName\"></div>\r\n                        <div class=\"form-label-group\">\r\n                        <input v-model=\"form.prezime\" type=\"text\" id=\"inputSurname\" class=\"form-control\" placeholder=\"Insert surname\" required autofocus>\r\n                        <label for=\"inputSurname\">Prezime</label>\r\n                        </div>\r\n\r\n                                <div v-if='messages.errorEmail' class=\"alert alert-danger\" v-html=\"messages.errorEmail\"></div>\r\n                        <div class=\"form-label-group\">\r\n                        <input v-model=\"form.email\" type=\"email\" id=\"inputEmail\" class=\"form-control\" placeholder=\"Email address\" required>\r\n                        <label for=\"inputEmail\">Email adresa</label>\r\n                        </div>\r\n\r\n                        <div v-if='messages.errorUsername' class=\"alert alert-danger\" v-html=\"messages.errorUsername\"></div>\r\n                        <div class=\"form-label-group\">\r\n                        <input v-model=\"form.username\" type=\"text\" id=\"inputUsername\" class=\"form-control\" placeholder=\"Username\" required>\r\n                        <label for=\"inputUsername\">Korisničko ime</label>\r\n                        </div>\r\n\r\n                        <div style=\"margin-top:20px\" v-if='messages.errorAddress' class=\"alert alert-danger\" v-html=\"messages.errorAddress\"></div>\r\n                        <br>\r\n                        <h4><label style=\"color :#5cb85c;\">Adresa</label></h4>\r\n                        <div>\r\n                        <input class=\"one-forth\" placeholder=\"Unesite adresu(ulica, mesto, broj, drzava)...\" v-model='form.adresa.adresa'>\r\n                        </div>\r\n\r\n                        <h4><label style=\"color :#5cb85c;\">Slike</label></h4>\r\n                        <div>\r\n                            <vueperslides fixed-height=\"600px\">\r\n                                <vueperslide v-for=\"(slide, i) in form.slike\" :key=\"i\">\r\n                                    <template v-slot:content>\r\n                                        <img :src=\"slide\" style=\"width:400px;height:600px\">\r\n                                    </template>\r\n                                </vueperslide>\r\n                            </vueperslides>\r\n                        </div>\r\n                        <div style=\"display: flex; justify-content: flex-end\">\r\n                            <input @change=\"uploadImage\" multiple style=\"margin-top:20px;margin-bottom:20px;\" type=\"file\">\r\n                            <button style=\"width:100px; margin-top:15px; height:30px;\" @click=\"ponistiIzbor()\">Ponisti</button>\r\n                        </div>\r\n\r\n\r\n                        <div v-if='messages.errorPassword' class=\"alert alert-danger\" v-html=\"messages.errorPassword\"></div>\r\n                        <div class=\"form-label-group\">\r\n                        <input v-model=\"form.password\" type=\"password\" id=\"inputPassword\" class=\"form-control\" placeholder=\"Password\" required>\r\n                        <label for=\"inputPassword\">Šifra</label>\r\n                        </div>\r\n                        \r\n                        <div v-if='messages.errorRepNewPass' class=\"alert alert-danger\" v-html=\"messages.errorRepNewPass\"></div>\r\n                        <div class=\"form-label-group\"> \r\n                        <input  v-model=\"confirmPassword\" type=\"password\" id=\"inputConfirmPassword\" class=\"form-control\" placeholder=\"Password\" required>\r\n                        <label for=\"inputConfirmPassword\">Potvrda šifre</label>\r\n                        </div>\r\n                        <hr>\r\n\r\n                        <div style=\"margin-top:20px\" v-if='messages.errorDatumRodjenja' class=\"alert alert-danger\" >\r\n                        <br>\r\n                        </div>\r\n                        <h4><label style=\"color :#5cb85c;\">Datum rodjenja:</label></h4> \r\n                        <div style=\"margin-bottom:30px;\">\r\n                            <dtpckr @selected=\"updateDatePicker\" v-model=\"form.datumRodjenja\">\r\n\r\n                            </dtpckr>\r\n                        </div>\r\n\r\n                        <div class=\"alert alert-warning\" v-if='messages.errorPasswordMismatch' v-html=\"messages.errorPasswordMismatch\"> </div>\r\n                        <!-- <div style=\"margin-top:20px\" v-if='messages.error' class=\"alert alert-danger\" v-html=\"messages.error\"></div> -->\r\n                        <div style=\"text-align:center\">\r\n                            <button  type=\"button\" class=\"btn btn-lg btn-success btn-block text-uppercase\" @click=\"submit()\">\r\n                            Registruj se\r\n                            </button>\r\n                            <a class=\"d-block text-center mt-2 small\" href=\"/login\">Uloguj se</a>\r\n                            <hr class=\"my-4\">\r\n                            <div v-if=\"messages.successMessage\" v-html=\"messages.successMessage\" class=\"alert alert-success\"></div>\r\n                        </div>\r\n                        \r\n                    </form>\r\n                    </div>  \r\n                </div>\r\n                <!-- </div> -->\r\n            </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport dataService from '../services/dataService'\r\nimport VueDatePicker from '@vuepic/vue-datepicker';\r\nimport '@vuepic/vue-datepicker/dist/main.css'\r\n\r\nimport moment from 'moment'\r\n\r\nimport { VueperSlides, VueperSlide } from 'vueperslides'\r\nimport 'vueperslides/dist/vueperslides.css'\r\nimport parserMixin from '@/mixins/mixin'\r\nexport default{\r\n    components:{\r\n        dtpckr:VueDatePicker,\r\n        vueperslides : VueperSlides,\r\n        vueperslide :VueperSlide\r\n    },\r\n    data(){\r\n        return{\r\n            // private String password;\r\n            // private String username;\r\n            // private String email;\r\n            \r\n            // private String ime;\r\n            // private String prezime;\r\n            // private String adresa;\r\n            // private LocalDate datumRodjenja;\r\n\t\r\n\t        // private TipKorisnika tipKorisnika;\r\n            \r\n            submitted : false,\r\n            confirmPassword : '',\r\n            form:{\r\n                password : '',\r\n                username : '',\r\n                email : '',\r\n                ime : '',\r\n                prezime: '',\r\n                adresa: {\r\n                    adresa:'',\r\n                    lat:-1,\r\n                    lng:-1,\r\n                },\r\n                datumRodjenja: new Date(),\r\n                slike:[],\r\n            },\r\n            slike : [],\r\n\r\n            messages:{\r\n                messageConfirmPassword:'',\r\n                successMessage:'',\r\n                errorType:'',\r\n                errorLastName:'',\r\n                errorFirstName:'',\r\n                errorEmail:'',\r\n                errorPassword:'',\r\n                errorUsername:'',\r\n                errorRepNewPass:'',\r\n                errorNoPassword:'',\r\n                errorAddress:'',\r\n                errorDatumRodjenja:'',\r\n                errorPasswordMismatch:'',\r\n            }\r\n            \r\n        }\r\n    },\r\n    methods:{\r\n        ponistiIzbor(){\r\n            this.slike = [];\r\n            this.form.slike = [];\r\n        },\r\n        uploadImage(e){\r\n            let images = [];\r\n            for(let i = 0; i < e.target.files.length; i++){\r\n                images.push(e.target.files[i]);\r\n            }\r\n            for(let i = 0; i < images.length; i++){\r\n                let reader = new FileReader();\r\n                reader.readAsDataURL(images[i]);\r\n                reader.onload = (() => {\r\n                    this.form.slike.push(reader.result);\r\n                    this.slike.push(reader.result);\r\n                });\r\n            }\r\n        },\r\n        updateDatePicker(val1){\r\n            console.log(\"VAL1: \"  + val1);\r\n            let tempDatum = moment(val1).format('YYYY-MM-DD');\r\n            console.log(\"TEMP DATUM: \"  + tempDatum);\r\n            this.form.datumRodjenja = tempDatum;\r\n        },\r\n        // setDatumRodjenja(){\r\n        //     let tempDatum = \r\n        // },\r\n        submit(){\r\n            if((this.form.ime === '')){\r\n                this.messages.errorFirstName = '<h2>Niste uneli ime korisnika!</h2>'\r\n                setTimeout(() => {\r\n                    this.messages.errorFirstName = '';\r\n                }, 4000);\r\n            }else if((this.form.prezime === '')){\r\n                this.messages.errorLastName = '<h2>Niste uneli prezime korisnika!</h2>'\r\n                setTimeout(() => {\r\n                    this.messages.errorLastName = '';\r\n                }, 4000);\r\n            }\r\n            else if((this.form.email === '')){\r\n                this.messages.errorEmail = '<h2>Niste uneli email adresu korisnika!</h2>'\r\n                setTimeout(() => {\r\n                    this.messages.errorEmail = '';\r\n                }, 4000);\r\n            }\r\n            else if(this.form.username === ''){\r\n                this.messages.errorUsername = '<h2>Niste uneli korisnicko ime!</h2>'\r\n                setTimeout(() => {\r\n                    this.messages.errorUsername = '';\r\n                }, 4000);\r\n            }\r\n            else if((this.form.adresa.adresa === '')){\r\n                this.messages.errorAddress = '<h2>Niste uneli adresu korisnika!</h2>'\r\n                setTimeout(() => {\r\n                    this.messages.errorAddress = '';\r\n                }, 4000);\r\n            }\r\n            else if((this.form.password === '')){\r\n                this.messages.errorPassword = '<h2>Niste uneli lozinku korisnika!</h2>'\r\n                setTimeout(() => {\r\n                    this.messages.errorPassword = '';\r\n                }, 4000);\r\n            }else if(this.confirmPassword === ''){\r\n                this.messages.errorRepNewPass = '<h2>Niste potvrdili lozinku korisnika!</h2>'\r\n                setTimeout(() => {\r\n                    this.messages.errorRepNewPass = '';\r\n                }, 4000);\r\n            }else if(this.form.datumRodjenja == ''){\r\n                this.messages.errorDatumRodjenja = '<h2>Niste odabrali datum rodjenja!</h2>';\r\n                setTimeout(() => {\r\n                    this.messages.errorDatumRodjenja = '';\r\n                }, 4000);\r\n            }\r\n            else{\r\n                this.updateDatePicker(this.form.datumRodjenja);\r\n                console.log(\"Kreiran objekat: \" + JSON.stringify(this.form));\r\n                if(this.form.password != this.confirmPassword){\r\n                        this.messages.errorPasswordMismatch = \"<h2>Lozinke se ne podudaraju!</h2>\";\r\n                        setTimeout( () => {\r\n                            this.messages.errorPasswordMismatch = '';\r\n                        }, 4000);\r\n                }else{\r\n                    let lokacija = parserMixin.methods.getCoordsFromAdresa(this.form.adresa.adresa);\r\n                    this.form.adresa.lat = lokacija.lat;\r\n                    this.form.adresa.lng = lokacija.lng;\r\n                    console.log(\"REGISTRUJE SE KORISNIK: \" + JSON.stringify(this.form));\r\n                    dataService.register(this.form).then(response => {\r\n                        if(response.status === 200){\r\n                            console.log(\"Uspesno registrovan korisnik\");\r\n                            this.messages.successMessage = '<h2>Zahtev uspesan. Proverite mejl za potvrdu naloga.</h2>';\r\n\r\n                            setTimeout(() => {\r\n                                this.messages.successMessage = '';\r\n                                this.$router.push(\"/\");\r\n                                \r\n                            }, 4000)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    },\r\n    created(){\r\n\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n\r\n\r\n<style scoped>\r\n.form-signin .btn {\r\n  font-size: 80%;\r\n  border-radius: 5rem;\r\n  letter-spacing: .1rem;\r\n  font-weight: bold;\r\n  padding: 1rem;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.form-label-group {\r\n  position: relative;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.form-label-group input {\r\n  height: 65px;\r\n  /* height: auto; */\r\n  text-align: center;\r\n  border-radius: 2rem;\r\n  \r\n}\r\n\r\n.form-label-group>input,\r\n.form-label-group>label {\r\n  padding: var(--input-padding-y) var(--input-padding-x);\r\n}\r\n\r\n.form-label-group>label {\r\n  position: absolute;\r\n  top: 10px;\r\n  left: 30px;\r\n  display: block;\r\n  width: 100%;\r\n  margin-bottom: 0;\r\n  /* Override default `<label>` margin */\r\n  line-height: 1.5;\r\n  color: #495057;\r\n  border: 1px solid transparent;\r\n  border-radius: .25rem;\r\n  transition: all .1s ease-in-out;\r\n  font-size: 18px;\r\n}\r\n\r\n.form-label-group input::-webkit-input-placeholder {\r\n  color: transparent;\r\n}\r\n\r\n.form-label-group input:-ms-input-placeholder {\r\n  color: transparent;\r\n}\r\n\r\n.form-label-group input::-ms-input-placeholder {\r\n  color: transparent;\r\n}\r\n\r\n.form-label-group input::-moz-placeholder {\r\n  color: transparent;\r\n}\r\n\r\n.form-label-group input::placeholder {\r\n  color: transparent;\r\n}\r\n\r\n.form-label-group input:not(:placeholder-shown) {\r\n  padding-top: calc(var(--input-padding-y) + var(--input-padding-y) * (2 / 3));\r\n  padding-bottom: calc(var(--input-padding-y) / 3);\r\n}\r\n\r\n.form-label-group input:not(:placeholder-shown)~label {\r\n  padding-top: calc(var(--input-padding-y) / 3);\r\n  padding-bottom: calc(var(--input-padding-y) / 3);\r\n  font-size: 12px;\r\n  color: #777;\r\n}\r\n\r\n.one-forth{\r\n  width:100%;\r\n  padding:10px;\r\n  margin-bottom:15px;\r\n  border-radius:20px;\r\n}\r\n\r\n#message-box{\r\n  margin-bottom:400px;\r\n  padding:50px;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}