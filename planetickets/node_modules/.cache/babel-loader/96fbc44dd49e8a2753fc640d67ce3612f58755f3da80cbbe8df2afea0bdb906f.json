{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-17aa46be\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  id: \"reg-profile-update\",\n  style: {\n    \"margin-bottom\": \"200px\"\n  }\n};\nconst _hoisted_2 = {\n  id: \"main\"\n};\nconst _hoisted_3 = {\n  class: \"container\",\n  id: \"page-title\"\n};\nconst _hoisted_4 = {\n  style: {\n    \"margin-top\": \"10px\",\n    \"color\": \"#1E90FF\"\n  }\n};\nconst _hoisted_5 = {\n  id: \"titleEffect\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", {\n  style: {\n    \"background\": \"#1E90FF\",\n    \"height\": \"1px\"\n  }\n}, null, -1 /* HOISTED */));\nconst _hoisted_7 = {\n  class: \"container\"\n};\nconst _hoisted_8 = {\n  class: \"form-group\"\n};\nconst _hoisted_9 = [\"innerHTML\"];\nconst _hoisted_10 = {\n  class: \"form-group\"\n};\nconst _hoisted_11 = [\"innerHTML\"];\nconst _hoisted_12 = {\n  class: \"form-group\"\n};\nconst _hoisted_13 = [\"innerHTML\"];\nconst _hoisted_14 = {\n  class: \"form-group\"\n};\nconst _hoisted_15 = [\"innerHTML\"];\nconst _hoisted_16 = {\n  class: \"form-group\"\n};\nconst _hoisted_17 = {\n  class: \"form-group\"\n};\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */));\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", null, \"Promena lozinke\", -1 /* HOISTED */));\nconst _hoisted_20 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */));\nconst _hoisted_21 = [\"innerHTML\"];\nconst _hoisted_22 = [\"innerHTML\"];\nconst _hoisted_23 = {\n  class: \"form-group\"\n};\nconst _hoisted_24 = [\"innerHTML\"];\nconst _hoisted_25 = {\n  class: \"form-group\"\n};\nconst _hoisted_26 = [\"innerHTML\"];\nconst _hoisted_27 = [\"innerHTML\"];\nconst _hoisted_28 = {\n  class: \"form-group\"\n};\nconst _hoisted_29 = [\"disabled\"];\nconst _hoisted_30 = [\"innerHTML\"];\nconst _hoisted_31 = [\"innerHTML\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_font = _resolveComponent(\"font\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h1\", _hoisted_4, [_createTextVNode(\"Izmena profila \"), _createElementVNode(\"span\", _hoisted_5, _toDisplayString(this.profile.tipKorisnika), 1 /* TEXT */)]), _hoisted_6]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"fieldset\", _hoisted_8, [_createElementVNode(\"label\", null, [_createVNode(_component_font, {\n    color: \"#1E90FF\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Email\")]),\n    _: 1 /* STABLE */\n  })]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.profile.email = $event),\n    disabled: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.profile.email]])]), $data.messages.errorUsername ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    id: \"testError\",\n    class: \"alert alert-danger\",\n    innerHTML: $data.messages.errorUsername\n  }, null, 8 /* PROPS */, _hoisted_9)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"fieldset\", _hoisted_10, [_createElementVNode(\"label\", null, [_createVNode(_component_font, {\n    color: \"#1E90FF\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Korisnicko ime\")]),\n    _: 1 /* STABLE */\n  })]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.profile.username = $event),\n    disabled: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.profile.username]])]), $data.messages.errorFirstName ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 1,\n    id: \"testError\",\n    class: \"alert alert-danger\",\n    innerHTML: $data.messages.errorFirstName\n  }, null, 8 /* PROPS */, _hoisted_11)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"fieldset\", _hoisted_12, [_createElementVNode(\"label\", null, [_createVNode(_component_font, {\n    color: \"#1E90FF\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Ime\")]),\n    _: 1 /* STABLE */\n  })]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.profile.ime = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.profile.ime]])]), $data.messages.errorLastName ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 2,\n    class: \"alert alert-danger\",\n    innerHTML: $data.messages.errorLastName\n  }, null, 8 /* PROPS */, _hoisted_13)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"fieldset\", _hoisted_14, [_createElementVNode(\"label\", null, [_createVNode(_component_font, {\n    color: \"#1E90FF\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Prezime\")]),\n    _: 1 /* STABLE */\n  })]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.profile.prezime = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.profile.prezime]])]), $data.messages.errorAdresa ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 3,\n    style: {\n      \"margin-top\": \"20px\"\n    },\n    class: \"alert alert-danger\",\n    innerHTML: $data.messages.errorAdresa\n  }, null, 8 /* PROPS */, _hoisted_15)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"fieldset\", _hoisted_16, [_createElementVNode(\"label\", null, [_createVNode(_component_font, {\n    color: \"#1E90FF\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Adresa\")]),\n    _: 1 /* STABLE */\n  })]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.profile.adresa = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.profile.adresa]])]), _createElementVNode(\"fieldset\", _hoisted_17, [_createElementVNode(\"label\", null, [_createVNode(_component_font, {\n    color: \"#1E90FF\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Datum Rodjenja\")]),\n    _: 1 /* STABLE */\n  })]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.profile.datumRodjenja = $event),\n    disabled: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.profile.datumRodjenja]])]), _hoisted_18, _hoisted_19, _hoisted_20, $data.messages.errorNotEqualOldPassword ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 4,\n    class: \"alert alert-danger\",\n    innerHTML: $data.messages.errorNotEqualOldPassword\n  }, null, 8 /* PROPS */, _hoisted_21)) : _createCommentVNode(\"v-if\", true), $data.messages.errorOldPass ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 5,\n    class: \"alert alert-danger\",\n    innerHTML: $data.messages.errorOldPass\n  }, null, 8 /* PROPS */, _hoisted_22)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"fieldset\", _hoisted_23, [_createElementVNode(\"label\", null, [_createVNode(_component_font, {\n    color: \"#1E90FF\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Stara lozinka\")]),\n    _: 1 /* STABLE */\n  })]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.changedPassword.oldPassword = $event),\n    placeholder: \"Unesite staru loznku...\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.changedPassword.oldPassword]])]), $data.messages.errorNewPass ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 6,\n    class: \"alert alert-danger\",\n    innerHTML: $data.messages.errorNewPass\n  }, null, 8 /* PROPS */, _hoisted_24)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"fieldset\", _hoisted_25, [_createElementVNode(\"label\", null, [_createVNode(_component_font, {\n    color: \"#1E90FF\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Nova lozinka\")]),\n    _: 1 /* STABLE */\n  })]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.changedPassword.newPassword = $event),\n    placeholder: \"Unesite novu loznku...\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.changedPassword.newPassword]])]), $data.messages.errorNotEqualNewPassword ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 7,\n    class: \"alert alert-danger\",\n    innerHTML: $data.messages.errorNotEqualNewPassword\n  }, null, 8 /* PROPS */, _hoisted_26)) : _createCommentVNode(\"v-if\", true), $data.messages.errorRepNewPass ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 8,\n    class: \"alert alert-danger\",\n    innerHTML: $data.messages.errorRepNewPass\n  }, null, 8 /* PROPS */, _hoisted_27)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"fieldset\", _hoisted_28, [_createElementVNode(\"label\", null, [_createVNode(_component_font, {\n    color: \"#1E90FF\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Ponovite novu lozinku\")]),\n    _: 1 /* STABLE */\n  })]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.changedPassword.newPasswordRepeat = $event),\n    placeholder: \"Ponovite novu loznku...\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.changedPassword.newPasswordRepeat]])]), _createElementVNode(\"button\", {\n    style: {\n      \"margin-top\": \"20px\"\n    },\n    disabled: $data.btnEnabled,\n    type: \"button\",\n    class: \"btn btn-lg btn-success\",\n    onClick: _cache[9] || (_cache[9] = $event => $options.updateProfile())\n  }, \" Potvrdi \", 8 /* PROPS */, _hoisted_29), $data.messages.errorResponse ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 9,\n    class: \"alert alert-danger\",\n    innerHTML: $data.messages.errorResponse\n  }, null, 8 /* PROPS */, _hoisted_30)) : _createCommentVNode(\"v-if\", true), $data.messages.successResponse ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 10,\n    class: \"alert alert-success\",\n    innerHTML: $data.messages.successResponse\n  }, null, 8 /* PROPS */, _hoisted_31)) : _createCommentVNode(\"v-if\", true)])])]);\n}","map":{"version":3,"mappings":"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","names":["id","style","class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","profile","tipKorisnika","_hoisted_6","_hoisted_7","_hoisted_8","_createVNode","_component_font","color","type","$data","email","disabled","errorUsername","innerHTML","_hoisted_10","username","errorFirstName","_hoisted_12","ime","errorLastName","_hoisted_14","prezime","errorAdresa","_hoisted_16","adresa","_hoisted_17","datumRodjenja","_hoisted_18","_hoisted_19","_hoisted_20","errorNotEqualOldPassword","errorOldPass","_hoisted_23","oldPassword","placeholder","errorNewPass","_hoisted_25","newPassword","errorNotEqualNewPassword","errorRepNewPass","_hoisted_28","newPasswordRepeat","onClick","$options","errorResponse","successResponse"],"sourceRoot":"","sources":["C:\\Users\\SNSBOT\\Desktop\\XML-2023[PROJEKAT]\\APP2-front\\planetickets\\src\\overviews\\EditProfile.vue"],"sourcesContent":["<template>\r\n   <div id=\"reg-profile-update\" style=\"margin-bottom:200px;\">\r\n        <div id='main'>\r\n\t\t\t<div class=\"container\" id='page-title'>\r\n\t\t\t    <h1 style=\"margin-top:10px;color:#1E90FF;\">Izmena profila <span id='titleEffect'>{{this.profile.tipKorisnika}}</span></h1>\r\n\t\t\t    <hr style='background:#1E90FF;height:1px;'>\r\n\t\t\t</div>\r\n            <div class=\"container\">\r\n                <fieldset class=\"form-group\">\r\n\t\t\t\t\t<label><font color=\"#1E90FF\">Email</font></label>\r\n\t\t\t\t\t<input type=\"text\" class=\"form-control\" v-model=\"profile.email\" disabled />\r\n\t\t\t\t</fieldset>\r\n                <div v-if='messages.errorUsername' id='testError' class=\"alert alert-danger\" v-html=\"messages.errorUsername\"></div>\r\n                <fieldset class=\"form-group\">\r\n                    <label><font color=\"#1E90FF\">Korisnicko ime</font></label>\r\n                    <input type=\"text\" class=\"form-control\" v-model=\"profile.username\"  disabled/>\r\n                </fieldset>\r\n                <div v-if='messages.errorFirstName' id='testError' class=\"alert alert-danger\" v-html=\"messages.errorFirstName\"></div>\r\n                <fieldset class=\"form-group\">\r\n                    <label><font color=\"#1E90FF\">Ime</font></label>\r\n                    <input type=\"text\" class=\"form-control\" v-model=\"profile.ime\" />\r\n                </fieldset>\r\n                <div v-if='messages.errorLastName' class=\"alert alert-danger\" v-html=\"messages.errorLastName\"></div>\r\n                <fieldset class=\"form-group\">\r\n                    <label><font color=\"#1E90FF\">Prezime</font></label>\r\n                    <input type=\"text\" class=\"form-control\" v-model=\"profile.prezime\" />\r\n                </fieldset>\r\n                <div style=\"margin-top:20px\" v-if='messages.errorAdresa' class=\"alert alert-danger\" v-html=\"messages.errorAdresa\"></div>\r\n                <fieldset class=\"form-group\">\r\n                    <label><font color=\"#1E90FF\">Adresa</font></label>\r\n                    <input type=\"text\" class=\"form-control\" v-model=\"profile.adresa\" />\r\n                </fieldset>\r\n                <fieldset class=\"form-group\">\r\n                    <label><font color=\"#1E90FF\">Datum Rodjenja</font></label>\r\n                    <input type=\"text\" class=\"form-control\" v-model=\"profile.datumRodjenja\" disabled/>\r\n                </fieldset>\r\n\r\n                <hr>\r\n                \r\n                <h4>Promena lozinke</h4>\r\n                <hr>\r\n                <div v-if='messages.errorNotEqualOldPassword' class=\"alert alert-danger\" v-html=\"messages.errorNotEqualOldPassword\"></div>\r\n                <div v-if='messages.errorOldPass' class=\"alert alert-danger\" v-html=\"messages.errorOldPass\"></div>\r\n                <fieldset class=\"form-group\">\r\n                    <label><font color=\"#1E90FF\">Stara lozinka</font></label>\r\n                    <input type=\"password\" class=\"form-control\" v-model=\"changedPassword.oldPassword\" placeholder=\"Unesite staru loznku...\" />\r\n                </fieldset>\r\n                <div v-if='messages.errorNewPass' class=\"alert alert-danger\" v-html=\"messages.errorNewPass\"></div>\r\n                <fieldset class=\"form-group\">\r\n                    <label><font color=\"#1E90FF\">Nova lozinka</font></label>\r\n                    <input type=\"password\" class=\"form-control\" v-model=\"changedPassword.newPassword\" placeholder=\"Unesite novu loznku...\" />\r\n                </fieldset>\r\n                <div v-if='messages.errorNotEqualNewPassword' class=\"alert alert-danger\" v-html=\"messages.errorNotEqualNewPassword\"></div>\r\n                <div v-if='messages.errorRepNewPass' class=\"alert alert-danger\" v-html=\"messages.errorRepNewPass\"></div>\r\n                <fieldset class=\"form-group\">\r\n                    <label><font color=\"#1E90FF\">Ponovite novu lozinku</font></label>\r\n                    <input type=\"password\" class=\"form-control\" v-model=\"changedPassword.newPasswordRepeat\" placeholder=\"Ponovite novu loznku...\"  />\r\n                </fieldset>\r\n                <button style=\"margin-top:20px;\" :disabled='btnEnabled' type=\"button\" class=\"btn btn-lg btn-success\" v-on:click='updateProfile()'> Potvrdi </button>\r\n                \r\n                <div v-if='messages.errorResponse' class=\"alert alert-danger\" v-html=\"messages.errorResponse\"></div>\r\n                <div v-if='messages.successResponse' class=\"alert alert-success\" v-html=\"messages.successResponse\"></div>\r\n            </div>\r\n                \r\n                \r\n        </div>\r\n   </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport dataService from '../services/dataService';\r\nimport VueDatePicker from '@vuepic/vue-datepicker';\r\nimport parserMixin from '@/mixins/mixin'\r\n\r\n    export default{\r\n        data(){\r\n            return{\r\n                btnEnabled:false,\r\n                profile: {\r\n                },\r\n                ownerId : '',\r\n\t\t\t    changedPassword: {\r\n                    oldPassword: '',\r\n                    newPassword: '',\r\n                    newPasswordRepeat: '',\r\n                },\r\n                messages:{\r\n                    errorUsername:'',\r\n                    errorFirstName: '',\r\n                    errorLastName: '',\r\n                    errorAdresa:'',\r\n                    errorOldPass: '',\r\n                    errorNewPass: '',\r\n                    errorRepNewPass: '',\r\n                    errorNotEqualOldPassword: '',\r\n                    errorNotEqualNewPassword: '',\r\n                    errorResponse: '',\r\n                    successResponse: '',\r\n                },\r\n                userObj:{\r\n\r\n                }\r\n            }\r\n        },\r\n        created(){\r\n            parserMixin.methods.checkLoginStatus();\r\n            this.userObj = parserMixin.methods.parseXmlJwt();\r\n            console.log(\"ID KORISNIKA: \" + this.userObj.id);\r\n            this.getUserProfileData(this.userObj.id);\r\n        },\r\n        methods:{\r\n            getUserProfileData(id){\r\n                try{\r\n                    dataService.getUser(id).then(response => {\r\n                        console.log(\"USER PROFILE: \" + JSON.stringify(response.data));\r\n                        this.profile = response.data;\r\n                        console.log(\"BROJ SLIKA: \" + this.profile.slike.length);\r\n                        let tempSlike = [];\r\n                        for(let i = 0; i < this.profile.slike.length; i++){\r\n                            console.log(\"AAA\")\r\n                            tempSlike.push('data:image/png;base64,' + this.profile.slike[i]);\r\n                        }\r\n                        this.profile.slike = tempSlike;\r\n                        console.log(\"SLIKA POSLE FORMATIRANJA: \" + JSON.stringify(this.profile.slike[0]))\r\n                    });\r\n                }catch(error){\r\n                    console.log(\"GRESKA: \" + error.message);\r\n                }\r\n            },\r\n            updateProfile(){\r\n                 // First name i last name se u paru gledaju da li su popunjeni\r\n                // Ako su oba prazna u isto vreme ce za oba izbaciti error\r\n                if (this.profile.korisnickoIme == '') {\r\n                    this.messages.errorUsername = `<h4>Polje korisnicko ime ne moze biti prazno!</h4>`;\r\n                    setTimeout(() => this.messages.errorUsername = '', 5000);\r\n                }\r\n                else if (this.profile.ime == '' && this.profile.prezime != '') {\r\n                    his.messages.errorFirstName = `<h4>Polje ime ne moze biti prazno!</h4>`;\r\n                    setTimeout(() => this.messages.errorFirstName = '', 5000);\r\n                }\r\n                else if (this.profile.ime != '' && this.profile.prezime == '') {\r\n                    this.messages.errorLastName = `<h4>Polje prezime ne moze biti prazno!</h4>`;\r\n                    setTimeout(() => this.messages.errorLastName = '', 5000);\r\n                }\r\n                else if (this.profile.ime == '' && this.profile.prezime == '') {\r\n                    this.messages.errorFirstName = `<h4>Polje ime ne moze biti prazno!</h4>`;\r\n                    this.messages.errorLastName = `<h4>Polje prezime ne moze biti prazno!</h4>`;\r\n                    setTimeout(() => this.messages.errorFirstName = '', 5000);\r\n                    setTimeout(() => this.messages.errorLastName = '', 5000);\r\n                }\r\n                else if (this.profile.adresa == '') {\r\n                    this.messages.errorAdresa = `<h4> Polje adresa moze biti prazno!</h4>`;\r\n                    setTimeout(() => this.errorAdresa = '', 5000);\r\n                }\r\n\r\n                 //Password check\r\n                //Ako je unet old password, a nije uneto jedno od polja newPassword ili newPassword reapeat unosi se error\r\n                else if (this.changedPassword.oldPassword !== '' && this.changedPassword.newPassword !== '' && this.changedPassword.newPasswordRepeat === '') {\r\n                    this.messages.errorRepNewPass = `<h4>Morate ponoviti Vasu novu sifru!</h4>`;\r\n                    setTimeout(() => this.messages.errorRepNewPass = '', 55000);\r\n                }\r\n                //Ako je unet old password, a nije uneto jedno od polja newPassword ili newPassword reapeat unosi se error\r\n                else if (this.changedPassword.oldPassword !== '' && this.changedPassword.newPassword === '' && this.changedPassword.newPasswordRepeat !== '') {\r\n                    this.messages.errorNewPass = `<h4>Morate uneti Vasu novu sifru!</h4>`;\r\n                    setTimeout(() => this.messages.errorNewPass = '', 5000);\r\n                }\r\n                //Ako je unet old password, a nije uneto jedno od polja newPassword ili newPassword reapeat unosi se error\r\n                else if (this.changedPassword.oldPassword !== '' && this.changedPassword.newPassword === '' && this.changedPassword.newPasswordRepeat === '') {\r\n                    this.messages.errorNewPass = `<h4>Morate uneti Vasu novu sifru!</h4>`;\r\n                    this.messages.errorRepNewPass = `<h4>Morate ponoviti Vasu novu sifru!</h4>`;\r\n                    setTimeout(() => this.messages.errorNewPass = '', 5000);\r\n                    setTimeout(() => this.messages.errorRepNewPass = '', 5000);\r\n                }\r\n                //Ako nije unet old password, a jesu novi ispisuje se error\r\n                else if (this.changedPassword.oldPassword === '' && this.changedPassword.newPassword !== '' && this.changedPassword.newPasswordRepeat !== '') {\r\n                    this.messages.errorOldPass = `<h4>Morate prvo uneti Vasu staru sifru!</h4>`;\r\n                    setTimeout(() => this.messages.errorOldPass = '', 5000);\r\n                }\r\n                 //Ako su uneta sva 3 passworda, nema errora za prazna polja, ali se proverava validnost samog unosa\r\n                else if (this.changedPassword.oldPassword !== '' && this.changedPassword.newPassword !== '' && this.changedPassword.newPasswordRepeat !== '') {\r\n                    if (this.changedPassword.newPassword !== this.changedPassword.newPasswordRepeat) {\r\n                        this.messages.errorNotEqualNewPassword = `<h4>Vase nove sifre se ne poklapaju! Molimo Vas pokusajte ponovo...</h4>`;\r\n                        setTimeout(() => this.messages.errorNotEqualNewPassword = '', 3000);\r\n                    }\r\n                    else {\r\n                        //ako je stara sifra dobro uneta, a nove se poklapaju,\r\n                        //stara sifra se menja novom.\r\n                        // this.profile.staraSifra = this.changedPassword.oldPassword;\r\n                        // this.profile.novaSifra = this.changedPassword.newPassword;\r\n                        let tempObjekat = {\r\n                            staraSifra: this.changedPassword.oldPassword,\r\n                            novaSifra: this.changedPassword.newPassword,\r\n                        }\r\n                        if(tempObjekat.novaSifra === '' || tempObjekat.novaSifra === null){\r\n                            tempObjekat.novaSifra='';\r\n                        }\r\n                        if(tempObjekat.staraSifra === '' || tempObjekat.staraSifra === null){\r\n                            tempObjekat.staraSifra='';\r\n                        }\r\n                        console.log(\"Korisnik: \" + JSON.stringify(this.profile));\r\n                        let objekat = {\r\n                            korisnikDTO: this.profile,\r\n                            novaSifraDTO: tempObjekat\r\n                        }\r\n                        console.log(\"Objekat koji se salje na bek: \" + JSON.stringify(objekat));\r\n                        dataService.updateUserProfile(objekat).then(Response => {\r\n                            this.messages.successResponse = `<h4>Vas profil je uspesno izmenjen!</h4>`;\r\n                            setTimeout(() => this.messages.successResponse = '', 5000);\r\n                            this.profile = Response.data;\r\n                            setTimeout(() => { this.$router.push(`/home`)}, 5050);\r\n                        })\r\n                        .catch(error=>{\r\n                            // && error.response.data.message === \"Wrong password!\"\r\n                            if(error.response.status === 409 ){\r\n                                this.messages.errorResponse = `<h4>Vaša stara sifra je netačna! Molimo Vas pokušajte ponovo...</h4>`;\r\n                                setTimeout(()=>this.messages.errorResponse='', 5000);\r\n                            }\r\n                            else if (error.response.status === 500 || error.response.status === 404) {\r\n                                this.messages.errorResponse = `<h4>Imali smo nekih problema na serveru,  molimo Vas pokušajte ponovo kasnije!</h4>`;\r\n                                setTimeout(() => this.messages.errorResponse = '', 5000);\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                else{\r\n                    let tempObjekat = {\r\n                            staraSifra: '',\r\n                            novaSifra: '',\r\n                        }\r\n                    let objekat = {\r\n                            korisnikDTO: this.profile,\r\n                            novaSifraDTO: tempObjekat\r\n                    }\r\n                    dataService.updateUserProfile(objekat).then(response => {\r\n                        his.messages.successResponse = `<h4>Vas profil je uspesno izmenjen!</h4>`;\r\n                        setTimeout(() => this.messages.successResponse = '', 5000);\r\n                        console.log(response.data)\r\n                        this.profile = response.data;\r\n                    })\r\n                    .catch(error => {\r\n                        if (error.response.status === 500 || error.response.status === 404) {\r\n                            this.messages.errorResponse = `<h4>Imali smo nekih problema na serveru, molimo Vas pokušajte kasnije!</h4>`;\r\n                            setTimeout(() => this.messages.errorResponse = '', 5000);\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n        },\r\n        components:{\r\n            datepicker:VueDatePicker,\r\n        }\r\n        \r\n    }\r\n    \r\n</script>\r\n\r\n<style scoped>\r\n\r\n#titleEffect{\r\n  color:#1E90FF;\r\n  font-weight: bold;\r\n}\r\n\r\n#admin-profile-update .one-forth{\r\n  width:24%;\r\n  padding:10px;\r\n  margin-bottom:15px\r\n}\r\n\r\n#admin-profile-update label{\r\n    color:#35424a;\r\n    display: block;\r\n    margin: 20px 0 10px;\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n}\r\n\r\n.header5{\r\n    color:#1E90FF;\r\n    font-weight: bold;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}