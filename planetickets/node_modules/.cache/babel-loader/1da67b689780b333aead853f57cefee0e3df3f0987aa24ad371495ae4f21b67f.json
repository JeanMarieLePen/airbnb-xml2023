{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/SNSBOT/Desktop/XML-2023-projekat2/frontend/template-project/planetickets/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _objectSpread from \"C:/Users/SNSBOT/Desktop/XML-2023-projekat2/frontend/template-project/planetickets/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"C:/Users/SNSBOT/Desktop/XML-2023-projekat2/frontend/template-project/planetickets/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport { YandexMap, YandexMarker } from \"vue-yandex-maps\";\nimport { loadYmap } from \"vue-yandex-maps\";\nvar coordsFinder = {\n  data: function data() {\n    return {\n      settings: {\n        apiKey: \"5e04929d-e957-4fdd-b85c-08e60b3cb3f0\",\n        lang: \"en_US\",\n        coordorder: \"latlong\",\n        enterprise: false,\n        version: \"2.1\"\n      }\n    };\n  },\n  components: {\n    YandexMap: YandexMap,\n    YandexMarker: YandexMarker\n  },\n  mounted: function mounted() {\n    var _this = this;\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            console.log(\"MONTIRANJE\");\n            _context.next = 3;\n            return loadYmap(_objectSpread(_objectSpread({}, _this.settings), {}, {\n              format: \"json\",\n              debug: true\n            }));\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  },\n  methods: {\n    // async getCoordsFromAdresa(adresa){\n    //     ymaps.geocode(adresa).then((result) => {\n    //         let locationCoords = {\n    //             coords: result.geoObjects.get(0).geometry.getCoordinates(),\n    //         };\n    //         let location = new Object();\n    //         location.lat = locationCoords.coords[0];\n    //         location.lng = locationCoords.coords[1];\n    //     });\n    // },\n    getCoordsFromAdresa: function getCoordsFromAdresa(adresa) {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt(\"return\", ymaps.geocode(adresa).then(function (result) {\n                var locationCoords = {\n                  coords: result.geoObjects.get(0).geometry.getCoordinates()\n                };\n                _this2.lokacija.lat = locationCoords.coords[0];\n                _this2.lokacija.lng = locationCoords.coords[1];\n                _this2.form.adresa.lat = _this2.lokacija.lat;\n                _this2.form.adresa.lng = _this2.lokacija.lng;\n                console.log(\"LOKACIJA: \" + JSON.stringify(_this2.lokacija));\n              }));\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    }\n  }\n};\nexport default coordsFinder;","map":{"version":3,"names":["YandexMap","YandexMarker","loadYmap","coordsFinder","data","settings","apiKey","lang","coordorder","enterprise","version","components","mounted","console","log","format","debug","methods","getCoordsFromAdresa","adresa","ymaps","geocode","then","result","locationCoords","coords","geoObjects","get","geometry","getCoordinates","lokacija","lat","lng","form","JSON","stringify"],"sources":["C:/Users/SNSBOT/Desktop/XML-2023-projekat2/frontend/template-project/planetickets/src/mixins/coordsMixin.js"],"sourcesContent":["import {YandexMap, YandexMarker} from \"vue-yandex-maps\"\r\nimport { loadYmap } from \"vue-yandex-maps\";\r\n\r\nconst coordsFinder = {\r\n\r\n    data(){\r\n        return{\r\n            settings: {\r\n                apiKey: \"5e04929d-e957-4fdd-b85c-08e60b3cb3f0\",\r\n                lang: \"en_US\",\r\n                coordorder: \"latlong\",\r\n                enterprise: false,\r\n                version: \"2.1\",\r\n            },\r\n        }\r\n    },\r\n    components:{\r\n        YandexMap, YandexMarker,\r\n    },\r\n    async mounted(){\r\n        console.log(\"MONTIRANJE\")\r\n        await loadYmap({ ...this.settings, format: \"json\", debug: true});\r\n        // await this.getEntity();\r\n        // await this.getCoordsFromAdresa();\r\n    },\r\n    methods:{\r\n        // async getCoordsFromAdresa(adresa){\r\n        //     ymaps.geocode(adresa).then((result) => {\r\n        //         let locationCoords = {\r\n        //             coords: result.geoObjects.get(0).geometry.getCoordinates(),\r\n        //         };\r\n        //         let location = new Object();\r\n        //         location.lat = locationCoords.coords[0];\r\n        //         location.lng = locationCoords.coords[1];\r\n\r\n        //     });\r\n        // },\r\n        async getCoordsFromAdresa(adresa){\r\n            return ymaps.geocode(adresa).then((result) => {\r\n                let locationCoords = {\r\n                    coords: result.geoObjects.get(0).geometry.getCoordinates(),\r\n                };\r\n                this.lokacija.lat = locationCoords.coords[0];\r\n                this.lokacija.lng = locationCoords.coords[1];\r\n                this.form.adresa.lat = this.lokacija.lat;\r\n                this.form.adresa.lng = this.lokacija.lng;\r\n                console.log(\"LOKACIJA: \" + JSON.stringify(this.lokacija));\r\n            });\r\n        }\r\n    }\r\n}\r\nexport default coordsFinder;"],"mappings":";;;;AAAA,SAAQA,SAAS,EAAEC,YAAY,QAAO,iBAAiB;AACvD,SAASC,QAAQ,QAAQ,iBAAiB;AAE1C,IAAMC,YAAY,GAAG;EAEjBC,IAAI,kBAAE;IACF,OAAM;MACFC,QAAQ,EAAE;QACNC,MAAM,EAAE,sCAAsC;QAC9CC,IAAI,EAAE,OAAO;QACbC,UAAU,EAAE,SAAS;QACrBC,UAAU,EAAE,KAAK;QACjBC,OAAO,EAAE;MACb;IACJ,CAAC;EACL,CAAC;EACDC,UAAU,EAAC;IACPX,SAAS,EAATA,SAAS;IAAEC,YAAY,EAAZA;EACf,CAAC;EACKW,OAAO,qBAAE;IAAA;IAAA;MAAA;QAAA;UAAA;YACXC,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;YAAA;YAAA,OACnBZ,QAAQ,iCAAM,KAAI,CAACG,QAAQ;cAAEU,MAAM,EAAE,MAAM;cAAEC,KAAK,EAAE;YAAI,GAAE;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAGpE,CAAC;EACDC,OAAO,EAAC;IACJ;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACMC,mBAAmB,+BAACC,MAAM,EAAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA,kCACtBC,KAAK,CAACC,OAAO,CAACF,MAAM,CAAC,CAACG,IAAI,CAAC,UAACC,MAAM,EAAK;gBAC1C,IAAIC,cAAc,GAAG;kBACjBC,MAAM,EAAEF,MAAM,CAACG,UAAU,CAACC,GAAG,CAAC,CAAC,CAAC,CAACC,QAAQ,CAACC,cAAc;gBAC5D,CAAC;gBACD,MAAI,CAACC,QAAQ,CAACC,GAAG,GAAGP,cAAc,CAACC,MAAM,CAAC,CAAC,CAAC;gBAC5C,MAAI,CAACK,QAAQ,CAACE,GAAG,GAAGR,cAAc,CAACC,MAAM,CAAC,CAAC,CAAC;gBAC5C,MAAI,CAACQ,IAAI,CAACd,MAAM,CAACY,GAAG,GAAG,MAAI,CAACD,QAAQ,CAACC,GAAG;gBACxC,MAAI,CAACE,IAAI,CAACd,MAAM,CAACa,GAAG,GAAG,MAAI,CAACF,QAAQ,CAACE,GAAG;gBACxCnB,OAAO,CAACC,GAAG,CAAC,YAAY,GAAGoB,IAAI,CAACC,SAAS,CAAC,MAAI,CAACL,QAAQ,CAAC,CAAC;cAC7D,CAAC,CAAC;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IACN;EACJ;AACJ,CAAC;AACD,eAAe3B,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}