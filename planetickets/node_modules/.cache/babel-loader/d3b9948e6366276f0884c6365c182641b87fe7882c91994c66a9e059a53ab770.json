{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withKeys as _withKeys, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../assets/login-green.png';\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-3b087884\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  id: \"Login\"\n};\nvar _hoisted_2 = {\n  \"class\": \"container-fluid\"\n};\nvar _hoisted_3 = {\n  \"class\": \"row no-gutter\"\n};\nvar _hoisted_4 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", {\n    id: \"bgImage\",\n    \"class\": \"d-none d-md-flex col-md-4 col-lg-6\"\n  }, [/*#__PURE__*/_createElementVNode(\"img\", {\n    src: _imports_0\n  })], -1 /* HOISTED */);\n});\nvar _hoisted_5 = {\n  \"class\": \"col-md-8 col-lg-6\"\n};\nvar _hoisted_6 = {\n  \"class\": \"login d-flex align-items-center py-5\"\n};\nvar _hoisted_7 = {\n  \"class\": \"container text-center\"\n};\nvar _hoisted_8 = {\n  \"class\": \"row\"\n};\nvar _hoisted_9 = {\n  \"class\": \"col-md-9 col-lg-8 mx-auto\"\n};\nvar _hoisted_10 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"h3\", {\n    \"class\": \"login-heading mb-4\"\n  }, \"Welcome back!\", -1 /* HOISTED */);\n});\nvar _hoisted_11 = {\n  \"class\": \"form-label-group\"\n};\nvar _hoisted_12 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"label\", {\n    \"for\": \"inputEmail\"\n  }, \"Email address\", -1 /* HOISTED */);\n});\nvar _hoisted_13 = {\n  \"class\": \"form-label-group\"\n};\nvar _hoisted_14 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"label\", {\n    \"for\": \"inputPassword\"\n  }, \"Password\", -1 /* HOISTED */);\n});\nvar _hoisted_15 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"a\", {\n    \"class\": \"d-block text-center mt-2 small\",\n    href: \"/register\"\n  }, \"Registruj se\", -1 /* HOISTED */);\n});\nvar _hoisted_16 = [\"innerHTML\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _createElementVNode(\"form\", {\n    onKeyup: _cache[3] || (_cache[3] = _withKeys(function ($event) {\n      return $options.submition();\n    }, [\"enter\"]))\n  }, [_createElementVNode(\"div\", _hoisted_11, [_withDirectives(_createElementVNode(\"input\", {\n    maxlength: \"50\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $data.emailAddress = $event;\n    }),\n    id: \"inputEmail\",\n    \"class\": \"form-control\",\n    placeholder: \"Email address\",\n    required: \"\",\n    autofocus: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.emailAddress]]), _hoisted_12]), _createElementVNode(\"div\", _hoisted_13, [_withDirectives(_createElementVNode(\"input\", {\n    maxlength: \"50\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $data.password = $event;\n    }),\n    type: \"password\",\n    id: \"inputPassword\",\n    \"class\": \"form-control\",\n    placeholder: \"Password\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]]), _hoisted_14]), _createElementVNode(\"button\", {\n    type: \"button\",\n    \"class\": \"btn btn-lg btn-success btn-block btn-login text-uppercase font-weight-bold mb-2\",\n    onClick: _cache[2] || (_cache[2] = function ($event) {\n      return $options.submition();\n    })\n  }, \" Sign in \"), _hoisted_15], 32 /* HYDRATE_EVENTS */), $data.errorMessage ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    innerHTML: $data.errorMessage,\n    \"class\": \"alert alert-danger\"\n  }, null, 8 /* PROPS */, _hoisted_16)) : _createCommentVNode(\"v-if\", true)])])])])])])])]);\n}","map":{"version":3,"mappings":";OAKeA,UAA+B;;;;;EAJzCC,EAAE,EAAC;AAAO;;EACN,SAAM;AAAiB;;EACrB,SAAM;AAAe;;sBACtBC,oBAEM;IAFDD,EAAE,EAAC,SAAS;IAAC,SAAM;mBACxBC,oBAAqC;IAAhCC,GAA+B,EAA/BH;EAA+B;;;EAE/B,SAAM;AAAmB;;EACzB,SAAM;AAAsC;;EACxC,SAAM;AAAuB;;EAC7B,SAAM;AAAK;;EACP,SAAM;AAA2B;;sBACtCE,oBAAiD;IAA7C,SAAM;EAAoB,GAAC,eAAa;AAAA;;EAInC,SAAM;AAAkB;;sBAE7BA,oBAA6C;IAAtC,OAAI;EAAY,GAAC,eAAa;AAAA;;EAGhC,SAAM;AAAkB;;sBAE7BA,oBAA2C;IAApC,OAAI;EAAe,GAAC,UAAQ;AAAA;;sBAMnCA,oBAA2E;IAAxE,SAAM,gCAAgC;IAACE,IAAI,EAAC;KAAY,cAAY;AAAA;;;uBA5B7FC,oBAuCQ,OAvCRC,UAuCQ,GAtCJJ,oBAoCM,OApCNK,UAoCM,GAnCJL,oBAkCI,OAlCJM,UAkCI,GAjCAC,UAEM,EACNP,oBA6BI,OA7BJQ,UA6BI,GA5BJR,oBA2BM,OA3BNS,UA2BM,GA1BFT,oBAyBM,OAzBNU,UAyBM,GAxBNV,oBAuBM,OAvBNW,UAuBM,GAtBFX,oBAqBM,OArBNY,UAqBM,GApBNC,WAAiD,EAGjDb,oBAeO;IAfIc,OAAK;MAAA,OAAQC,kBAAS;IAAA;MAC7Bf,oBAGM,OAHNgB,WAGM,mBAFNhB,oBAAkI;IAA3HiB,SAAS,EAAC,IAAI;;aAAUC,kBAAY;IAAA;IAAGnB,EAAE,EAAC,YAAY;IAAC,SAAM,cAAc;IAACoB,WAAW,EAAC,eAAe;IAACC,QAAQ,EAAR,EAAQ;IAACC,SAAS,EAAT;iDAAzFH,kBAAY,KAC3CI,WAA6C,IAG7CtB,oBAGM,OAHNuB,WAGM,mBAFNvB,oBAAkI;IAA3HiB,SAAS,EAAC,IAAI;;aAAWC,cAAQ;IAAA;IAAEM,IAAI,EAAC,UAAU;IAACzB,EAAE,EAAC,eAAe;IAAC,SAAM,cAAc;IAACoB,WAAW,EAAC,UAAU;IAACC,QAAQ,EAAR;iDAAzFF,cAAQ,KACxCO,WAA2C,IAG3CzB,oBAES;IAFDwB,IAAI,EAAC,QAAQ;IAAC,SAAM,iFAAiF;IAAME,OAAK;MAAA,OAAEX,kBAAS;IAAA;KAAI,WAEvI,GACAY,WAA2E,6BAEpET,kBAAY,kBAAvBf,oBAAgF;;IAAvDyB,SAAqB,EAAbV,kBAAY;IAAE,SAAM","names":["_imports_0","id","_createElementVNode","src","href","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","onKeyup","$options","_hoisted_11","maxlength","$data","placeholder","required","autofocus","_hoisted_12","_hoisted_13","type","_hoisted_14","onClick","_hoisted_15","innerHTML"],"sourceRoot":"","sources":["C:\\Users\\SNSBOT\\Desktop\\XML-2023-projekat2\\frontend\\template-project\\planetickets\\src\\forms\\LoginForm.vue"],"sourcesContent":["<template>\r\n<div id=\"Login\">\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row no-gutter\">\r\n          <div id='bgImage' class=\"d-none d-md-flex col-md-4 col-lg-6 \">\r\n          <img src='../assets/login-green.png'>\r\n          </div>\r\n          <div class=\"col-md-8 col-lg-6\">\r\n          <div class=\"login d-flex align-items-center py-5\">\r\n              <div class=\"container text-center\">\r\n              <div class=\"row\">\r\n                  <div class=\"col-md-9 col-lg-8 mx-auto\">\r\n                  <h3 class=\"login-heading mb-4\">Welcome back!</h3>\r\n\r\n                  \r\n                  <form v-on:keyup.enter=\"submition()\">\r\n                      <div class=\"form-label-group\">\r\n                      <input maxlength=\"50\" v-model=\"emailAddress\"  id=\"inputEmail\" class=\"form-control\" placeholder=\"Email address\" required autofocus>\r\n                      <label for=\"inputEmail\">Email address</label>\r\n                      </div>\r\n\r\n                      <div class=\"form-label-group\">\r\n                      <input maxlength=\"50\" v-model =\"password\" type=\"password\" id=\"inputPassword\" class=\"form-control\" placeholder=\"Password\" required>\r\n                      <label for=\"inputPassword\">Password</label>\r\n                      </div>\r\n\r\n                      <button type=\"button\" class=\"btn btn-lg btn-success btn-block btn-login text-uppercase font-weight-bold mb-2\" v-on:click='submition()'>\r\n                          Sign in\r\n                      </button>\r\n                      <a class=\"d-block text-center mt-2 small\" href=\"/register\">Registruj se</a>\r\n                  </form>\r\n                  <div v-if=\"errorMessage\" v-html=\"errorMessage\" class=\"alert alert-danger\"></div>\r\n                  </div>\r\n              </div>\r\n              </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n    </div>\r\n\r\n  </div></template>\r\n\r\n\r\n<script>\r\nimport dataService from '../services/dataService'\r\nimport axios from 'axios'\r\nimport parserMixin from '@/mixins/mixin'\r\nexport default {\r\n    name:'LoginForm',\r\n    data(){\r\n        return{\r\n            emailAddress:'',\r\n            username:'',\r\n            password:'',\r\n\r\n            praznaPolja: false,\r\n            neispravniPodaci: false,\r\n\r\n            errorMessage:'',\r\n            \r\n        }\r\n    },\r\n    created(){\r\n      if(localStorage.getItem('xmljwt')!= null){\r\n        this.$router.push(`/`);\r\n      }\r\n    },\r\n    methods:{\r\n        submition(){\r\n          console.log(\"UNETI EMAIL I PASSWORD:\")\r\n          console.log(this.emailAddress + \", \" + this.password);\r\n          let loginUser = new Object();\r\n          loginUser.email = this.emailAddress;\r\n          loginUser.password = this.password;\r\n            dataService.login(loginUser).then(response => {\r\n                if(response.status === 200){\r\n                    console.log(\"LOGIN USPESAN\");\r\n                    this.token = response.data.odgovor;\r\n                    axios.defaults.headers.common['Authorization'] = 'Bearer ' + response.data.odgovor;\r\n                    localStorage.setItem('xmljwt', JSON.stringify(this.token));\r\n\r\n                    this.emitter.emit(\"loggedIn\", true);\r\n                    this.$router.push(`/dash`);\r\n                }else{\r\n                  console.log(\"Neuspesan login\");\r\n                  this.errorMessage = \"<h4>Neispravan email ili lozinka.</h4>\";\r\n                  setTimeout( () => {\r\n                    this.errorMessage = '';\r\n                  }, 4000);\r\n                };\r\n            });\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\r\n:root {\r\n  --input-padding-x: 1.5rem;\r\n  --input-padding-y: 0.75rem;\r\n}\r\n\r\n.input{\r\n    font-size: 30px;\r\n}\r\n.login,\r\n.image {\r\n    max-height: 95vh;\r\n    min-height: 90vh;\r\n    \r\n}\r\n\r\n.login-heading {\r\n  font-weight: 300;\r\n  font-size:50px;\r\n}\r\n\r\n.btn-login {\r\n    width: 150px;\r\n  font-size: 0.9rem;\r\n  letter-spacing: 0.05rem;\r\n  padding: 0.75rem 1rem;\r\n  border-radius: 2rem;\r\n}\r\n\r\n.form-label-group {\r\n  position: relative;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.form-label-group>input,\r\n.form-label-group>label {\r\n  padding: var(--input-padding-y) var(--input-padding-x);\r\n  height: 50px;\r\n  border-radius: 2rem;\r\n  font-size: 25px;\r\n  font-style: italic;\r\n}\r\n\r\n.form-label-group>label {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  display: block;\r\n  width: 100%;\r\n  margin-bottom: 0;\r\n  /* Override default `<label>` margin */\r\n  line-height: 1.5;\r\n  color: #495057;\r\n  cursor: text;\r\n  /* Match the input under the label */\r\n  border: 1px solid transparent;\r\n  border-radius: .25rem;\r\n  transition: all .1s ease-in-out;\r\n}\r\n\r\n.form-label-group input::-webkit-input-placeholder {\r\n  color: transparent;\r\n}\r\n\r\n.form-label-group input:-ms-input-placeholder {\r\n  color: transparent;\r\n}\r\n\r\n.form-label-group input::-ms-input-placeholder {\r\n  color: transparent;\r\n}\r\n\r\n.form-label-group input::-moz-placeholder {\r\n  color: transparent;\r\n}\r\n\r\n.form-label-group input::placeholder {\r\n  color: transparent;\r\n}\r\n\r\n.form-label-group input:not(:placeholder-shown) {\r\n  padding-top: calc(var(--input-padding-y) + var(--input-padding-y) * (2 / 3));\r\n  padding-bottom: calc(var(--input-padding-y) / 3);\r\n}\r\n\r\n.form-label-group input:not(:placeholder-shown)~label {\r\n  padding-top: calc(var(--input-padding-y) / 3);\r\n  padding-bottom: calc(var(--input-padding-y) / 3);\r\n  font-size: 12px;\r\n  color: #777;\r\n}\r\n\r\n/* Fallback for Edge\r\n-------------------------------------------------- */\r\n\r\n@supports (-ms-ime-align: auto) {\r\n  .form-label-group>label {\r\n    display: none;\r\n  }\r\n  .form-label-group input::-ms-input-placeholder {\r\n    color: #777;\r\n  }\r\n}\r\n\r\n/* Fallback for IE\r\n-------------------------------------------------- */\r\n\r\n@media all and (-ms-high-contrast: none),\r\n(-ms-high-contrast: active) {\r\n  .form-label-group>label {\r\n    display: none;\r\n  }\r\n  .form-label-group input:-ms-input-placeholder {\r\n    color: #777;\r\n  }\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}